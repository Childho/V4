/* 限时秒杀页面主容器样式 */
.seckill-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: linear-gradient(180deg, #f8f9fa 0%, #f5f5f5 100%);
  /* iOS全面屏适配 */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  box-sizing: border-box;
}

/* === 自定义导航栏样式 === */
.custom-nav-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 88rpx;
  background: #ffffff;
  border-bottom: 1rpx solid #f0f0f0;
  padding: 0 30rpx;
  position: relative;
  z-index: 200;
  box-sizing: border-box;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
}

.nav-back {
  width: 60rpx;
  height: 60rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 12rpx;
  transition: background-color 0.2s ease;
}

.nav-back:active {
  background-color: #f5f5f5;
}

.back-icon {
  width: 32rpx;
  height: 32rpx;
}

.nav-title {
  font-size: 36rpx;
  font-weight: bold;
  color: #333333;
  text-align: center;
}

.nav-placeholder {
  width: 60rpx;
  height: 60rpx;
}

/* === 搜索栏样式 === */
.search-section {
  background: #ffffff;
  padding: 24rpx 30rpx;
  border-bottom: 1rpx solid #f0f0f0;
  z-index: 100;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
}

.search-bar {
  display: flex;
  align-items: center;
  gap: 20rpx;
}

.search-input-wrapper {
  flex: 1;
  display: flex;
  align-items: center;
  background: #f8f9fa;
  border-radius: 24rpx;
  padding: 0 24rpx;
  height: 72rpx;
  box-sizing: border-box;
}

.search-icon {
  width: 32rpx;
  height: 32rpx;
  margin-right: 16rpx;
  opacity: 0.6;
}

.search-input {
  flex: 1;
  font-size: 28rpx;
  color: #333333;
  background: transparent;
  border: none;
  outline: none;
}

.search-input::placeholder {
  color: #999999;
}

.search-btn {
  width: 120rpx;
  height: 72rpx;
  background: linear-gradient(135deg, #FF4757, #FF6B81);
  color: #ffffff;
  border-radius: 24rpx;
  font-size: 28rpx;
  font-weight: bold;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  box-shadow: 0 4rpx 12rpx rgba(255, 71, 87, 0.3);
  transition: all 0.2s ease;
}

.search-btn:active {
  transform: scale(0.98);
  box-shadow: 0 2rpx 8rpx rgba(255, 71, 87, 0.4);
}

.search-btn::after {
  border: none;
}

/* === 品牌筛选样式 === */
.brand-filter-section {
  background: #ffffff;
  border-bottom: 1rpx solid #f0f0f0;
  z-index: 90;
}

/* 品牌筛选标题区域 */
.brand-filter-header {
  padding: 24rpx 30rpx 16rpx;
  border-bottom: 1rpx solid #f5f5f5;
}

.filter-title-wrapper {
  display: flex;
  align-items: center;
  gap: 12rpx;
}

.filter-icon {
  width: 28rpx;
  height: 28rpx;
  opacity: 0.8;
}

.filter-title {
  font-size: 28rpx;
  font-weight: 600;
  color: #333333;
}

/* 品牌筛选标签区域 */
.brand-tags-container {
  padding: 20rpx 30rpx 24rpx;
}

.brand-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 16rpx;
  margin-bottom: 16rpx;
}

.brand-row:last-child {
  margin-bottom: 0;
}

/* 额外品牌行的显示/隐藏动画 */
.extra-brands {
  transition: all 0.3s ease;
  overflow: hidden;
}

.extra-brands.hide {
  height: 0;
  opacity: 0;
  margin-bottom: 0;
}

.extra-brands.show {
  height: auto;
  opacity: 1;
}

.brand-item {
  padding: 12rpx 24rpx;
  background: #ffffff;
  border: 2rpx solid #e8e8e8;
  border-radius: 40rpx;
  font-size: 26rpx;
  color: #666666;
  white-space: nowrap;
  transition: all 0.2s ease;
  box-sizing: border-box;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.brand-item.active {
  background: #FF4757;
  color: #ffffff;
  border-color: #FF4757;
  box-shadow: 0 4rpx 12rpx rgba(255, 71, 87, 0.25);
}

/* 全部按钮特殊样式 */
.brand-item.all-brand {
  font-weight: 600;
  position: relative;
}

.brand-item.all-brand .expand-icon {
  width: 20rpx;
  height: 20rpx;
  transition: transform 0.3s ease;
  opacity: 0.6;
}

.brand-item.all-brand.active .expand-icon {
  opacity: 1;
}

.brand-item.all-brand .expand-icon.expanded {
  transform: rotate(180deg);
}

/* === 商品列表样式 === */
.products-section {
  flex: 1;
  position: relative;
  overflow: hidden;
}

.products-scroll {
  width: 100%;
  height: 100%;
}

.products-list {
  padding: 30rpx 24rpx;
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

/* 商品项样式 */
.product-item {
  display: flex;
  background: #ffffff;
  border-radius: 24rpx;
  padding: 24rpx;
  box-shadow: 0 6rpx 30rpx rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  box-sizing: border-box;
  border: 1rpx solid #f5f5f5;
}

.product-item:active {
  transform: translateY(2rpx);
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.12);
}

/* 商品图片区域 */
.product-image-wrapper {
  position: relative;
  width: 200rpx;
  height: 200rpx;
  margin-right: 24rpx;
  flex-shrink: 0;
}

.product-image {
  width: 100%;
  height: 100%;
  border-radius: 20rpx;
}

.seckill-label {
  position: absolute;
  top: 12rpx;
  left: 12rpx;
  background: linear-gradient(135deg, #FF4757, #FF6B81);
  color: #ffffff;
  font-size: 22rpx;
  font-weight: bold;
  padding: 6rpx 16rpx;
  border-radius: 16rpx;
  box-shadow: 0 4rpx 12rpx rgba(255, 71, 87, 0.4);
  letter-spacing: 1rpx;
}

/* 新增：右上角抢字角标样式 - 参考主流电商平台设计 */
.grab-corner-badge {
  position: absolute;
  top: -8rpx;
  right: -8rpx;
  width: 60rpx;
  height: 60rpx;
  background: linear-gradient(135deg, #FF1744 0%, #E91E63 50%, #FF1744 100%);
  color: #ffffff;
  font-size: 28rpx;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  box-shadow: 0 6rpx 16rpx rgba(255, 23, 68, 0.5),
              0 0 0 3rpx rgba(255, 255, 255, 0.9);
  z-index: 10;
  letter-spacing: 0;
  text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);
  transform: rotate(-8deg); /* 轻微旋转，增加动感 */
  animation: bounce 2s ease-in-out infinite;
}

/* 抢字角标的跳动动画效果 */
@keyframes bounce {
  0%, 50%, 100% {
    transform: rotate(-8deg) scale(1);
  }
  25% {
    transform: rotate(-8deg) scale(1.05);
  }
  75% {
    transform: rotate(-8deg) scale(0.98);
  }
}

/* 鼠标悬停效果（虽然小程序中不常用，但为了完整性添加） */
.grab-corner-badge:active {
  animation-play-state: paused;
  transform: rotate(-8deg) scale(0.95);
}

/* 商品信息区域 */
.product-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  margin-right: 24rpx;
  padding: 8rpx 0;
}

.product-header {
  margin-bottom: 16rpx;
}

.product-brand {
  font-size: 24rpx;
  color: #FF4757;
  font-weight: 600;
  margin-bottom: 8rpx;
  display: block;
}

.product-title {
  font-size: 30rpx;
  color: #333333;
  font-weight: 600;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 标签区域 */
.tags-section {
  display: flex;
  gap: 12rpx;
  margin-bottom: 20rpx;
  flex-wrap: wrap;
}

.tag {
  font-size: 20rpx;
  color: #52c41a;
  background: #f6ffed;
  border: 1rpx solid #b7eb8f;
  border-radius: 10rpx;
  padding: 4rpx 12rpx;
  white-space: nowrap;
  font-weight: 500;
}

/* 价格和倒计时区域 */
.price-countdown-section {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-bottom: 16rpx;
}

/* 价格区域 */
.price-section {
  display: flex;
  align-items: baseline;
  gap: 12rpx;
}

.current-price {
  font-size: 40rpx;
  color: #FF4757;
  font-weight: bold;
  font-family: DIN, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.original-price {
  font-size: 24rpx;
  color: #999999;
  text-decoration: line-through;
  font-weight: 400;
}

/* 倒计时区域 */
.countdown {
  display: flex;
  align-items: center;
}

.countdown-time {
  font-size: 22rpx;
  color: #FF4757;
  font-weight: bold;
  background: linear-gradient(135deg, #fff2f0, #ffe1dc);
  border: 1rpx solid #ffccc7;
  border-radius: 12rpx;
  padding: 8rpx 12rpx;
  box-shadow: 0 2rpx 8rpx rgba(255, 71, 87, 0.15);
}

/* 销量信息区域 */
.sales-info {
  display: flex;
  align-items: center;
}

.sales-count {
  font-size: 24rpx;
  color: #666666;
  font-weight: 400;
}

/* 抢购按钮区域 */
.buy-section {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.buy-btn {
  width: 120rpx;
  height: 80rpx;
  border-radius: 40rpx;
  font-size: 40rpx;
  font-weight: 900;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  line-height: 1;
}

.buy-btn::after {
  border: none;
}

.buy-btn.active {
  background: linear-gradient(135deg, #FF4757 0%, #FF6B81 50%, #FF4757 100%);
  color: #ffffff;
  box-shadow: 0 8rpx 20rpx rgba(255, 71, 87, 0.4), 
              0 0 0 2rpx rgba(255, 255, 255, 0.2) inset;
  text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.4);
}

.buy-btn.active::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, 
    transparent 30%, 
    rgba(255, 255, 255, 0.3) 50%, 
    transparent 70%);
  animation: shine 2s infinite;
  pointer-events: none;
}

@keyframes shine {
  0% {
    transform: translateX(-100%) translateY(-100%) rotate(45deg);
  }
  50% {
    transform: translateX(0%) translateY(0%) rotate(45deg);
  }
  100% {
    transform: translateX(100%) translateY(100%) rotate(45deg);
  }
}

.buy-btn.active:active {
  transform: scale(0.95);
  box-shadow: 0 6rpx 16rpx rgba(255, 71, 87, 0.5);
}

.buy-btn.active {
  animation: pulse 1.5s ease-in-out infinite alternate;
}

@keyframes pulse {
  0% {
    box-shadow: 0 8rpx 20rpx rgba(255, 71, 87, 0.4), 
                0 0 0 2rpx rgba(255, 255, 255, 0.2) inset;
  }
  100% {
    box-shadow: 0 12rpx 28rpx rgba(255, 71, 87, 0.6), 
                0 0 0 2rpx rgba(255, 255, 255, 0.4) inset,
                0 0 20rpx rgba(255, 71, 87, 0.3);
  }
}

.buy-btn.disabled {
  background: #cccccc;
  color: #ffffff;
  opacity: 0.6;
  text-shadow: none;
  animation: none;
}

.buy-btn.disabled::before {
  display: none;
}

/* === 悬浮购物车样式 === */
.floating-cart {
  position: fixed;
  bottom: 140rpx;
  right: 30rpx;
  width: 112rpx;
  height: 112rpx;
  background: linear-gradient(135deg, #FF4757, #FF6B81);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 12rpx 32rpx rgba(255, 71, 87, 0.4);
  z-index: 999;
  transition: all 0.3s ease;
  border: 4rpx solid rgba(255, 255, 255, 0.9);
  box-sizing: border-box;
}

.floating-cart:active {
  transform: scale(0.95);
  box-shadow: 0 8rpx 24rpx rgba(255, 71, 87, 0.6);
}

.cart-icon {
  width: 48rpx;
  height: 48rpx;
}

.cart-badge {
  position: absolute;
  top: -12rpx;
  right: -12rpx;
  background: linear-gradient(135deg, #FF1744, #E91E63);
  color: #ffffff;
  font-size: 20rpx;
  font-weight: bold;
  padding: 6rpx 10rpx;
  border-radius: 24rpx;
  min-width: 36rpx;
  height: 36rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  border: 3rpx solid #ffffff;
  box-shadow: 0 4rpx 12rpx rgba(255, 23, 68, 0.4);
}

.badge-text {
  line-height: 1;
  font-family: DIN, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* === 空状态样式 === */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 120rpx 40rpx;
  background: #ffffff;
  border-radius: 24rpx;
  margin: 30rpx 24rpx;
  box-shadow: 0 6rpx 30rpx rgba(0, 0, 0, 0.06);
}

.empty-icon {
  width: 160rpx;
  height: 160rpx;
  margin-bottom: 32rpx;
  opacity: 0.4;
}

.empty-text {
  font-size: 28rpx;
  color: #999999;
  font-weight: 500;
}

/* === 底部占位 === */
.bottom-placeholder {
  height: 140rpx;
  width: 100%;
}

/* === 加载遮罩样式 === */
.loading-mask {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  backdrop-filter: blur(10rpx);
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: #ffffff;
  padding: 40rpx;
  border-radius: 24rpx;
  box-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.15);
}

.loading-spinner {
  width: 60rpx;
  height: 60rpx;
  border: 4rpx solid #f0f0f0;
  border-top: 4rpx solid #FF4757;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 20rpx;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading-text {
  font-size: 26rpx;
  color: #666666;
  font-weight: 500;
}

/* === 响应式适配 === */
@media screen and (max-width: 320px) {
  .product-item {
    padding: 16rpx;
  }
  
  .product-image-wrapper {
    width: 160rpx;
    height: 160rpx;
  }
  
  .current-price {
    font-size: 32rpx;
  }
  
  .buy-btn {
    width: 80rpx;
    height: 56rpx;
    font-size: 24rpx;
  }
} 