<!--index.wxml-->
<view class="index-container">
  <!-- ç®€åŒ–çš„headeråŒºåŸŸ - å»é™¤é€šçŸ¥åŠŸèƒ½ -->
  <view class="header" style="padding-top: {{statusBarHeight}}px;">
    <!-- ç®€åŒ–çš„æœç´¢æ å’Œä¼šå‘˜ç­‰çº§åŒºåŸŸ -->
    <view class="search-container">
      <!-- å·¦ä¾§æœç´¢æ  - é‡‡ç”¨æ›´ç°ä»£çš„è®¾è®¡ -->
      <view class="search-bar">
        <!-- ä½¿ç”¨æ›´ç°ä»£çš„æœç´¢å›¾æ ‡ -->
        <view class="search-icon">ğŸ”</view>
        <input 
          class="search-input" 
          placeholder="æœç´¢å•†å“" 
          value="{{searchKeyword}}"
          bindinput="onSearchInput"
          bindconfirm="onSearchConfirm"
          confirm-type="search"
          placeholder-class="search-placeholder"
          focus="{{false}}"
        />
      </view>
      
      <!-- å³ä¾§åŠŸèƒ½åŒºåŸŸ - ä»…ä¿ç•™ä¼šå‘˜å¾½ç«  -->
      <view class="header-actions">
        <!-- ä¼šå‘˜å¾½ç«  - æ›´ç²¾è‡´çš„è®¾è®¡ -->
        <view class="member-badge">
          <view class="member-icon">â­</view>
          <text>åˆçº§ä¼šå‘˜</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- ä¼˜åŒ–åçš„è½®æ’­å›¾åŒºåŸŸ - å‡å°‘è¾¹è·ï¼Œå¢åŠ è§†è§‰å†²å‡»åŠ› -->
  <view class="banner-container">
    <swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{500}}" circular="{{true}}">
      <swiper-item wx:for="{{banners}}" wx:key="id">
        <!-- ä½¿ç”¨æ›´ç¾è§‚çš„bannerå›¾ç‰‡ -->
        <image src="{{item.imageUrl}}" class="banner-image" mode="aspectFill" bindtap="handleBannerClick" data-id="{{item.id}}" data-type="{{item.type}}" />
        <!-- æ·»åŠ é®ç½©å±‚å’Œæ–‡å­—ï¼Œæå‡è§†è§‰æ•ˆæœ -->
        <view class="banner-overlay">
          <view class="banner-title">{{item.title}}</view>
          <view class="banner-subtitle">{{item.subtitle}}</view>
        </view>
      </swiper-item>
    </swiper>
  </view>
  
  <!-- åŠŸèƒ½å¯¼èˆª - ä½¿ç”¨æ›´ç¾è§‚çš„å›¾æ ‡ -->
  <view class="nav-container">
    <view class="nav-grid">
      <!-- æ¨å¹¿è¿”ä½£åŠŸèƒ½ - ä½¿ç”¨SVGå›¾æ ‡æ›¿ä»£emoji -->
      <view class="nav-item" bindtap="navigateTo" data-url="/pages/promotion/index">
        <view class="nav-icon">
          <image src="/assets/icons/promotion.svg" class="nav-icon-image" mode="aspectFit"></image>
        </view>
        <text>æ¨å¹¿è¿”ä½£</text>
      </view>
      <!-- ç©¿çº¿æœåŠ¡åŠŸèƒ½ -->
      <view class="nav-item" bindtap="navigateTo" data-url="/pages/stringing/index">
        <view class="nav-icon">
          <image src="/assets/icons/stringing.svg" class="nav-icon-image" mode="aspectFit"></image>
        </view>
        <text>ç©¿çº¿æœåŠ¡</text>
      </view>
      <!-- ç§¯åˆ†å…‘æ¢ -->
      <view class="nav-item" bindtap="navigateTo" data-url="/pages/pointsExchange/index">
        <view class="nav-icon">
          <image src="/assets/icons/points-exchange.svg" class="nav-icon-image" mode="aspectFit"></image>
        </view>
        <text>ç§¯åˆ†å…‘æ¢</text>
      </view>
      <!-- å®¢æœæœåŠ¡ -->
      <button class="nav-item" open-type="contact" show-message-card="{{true}}" bindcontact="onContactButton">
        <view class="nav-icon">
          <image src="/assets/icons/service-headset.svg" class="nav-icon-image" mode="aspectFit"></image>
        </view>
        <text>å®¢æœæœåŠ¡</text>
      </button>
    </view>
  </view>
  
  <!-- çƒ­é—¨æ´»åŠ¨éƒ¨åˆ† - ä¿æŒåŸæœ‰ç»“æ„ -->
  <view class="section-container">
    <!-- æ ‡é¢˜å’Œ"æŸ¥çœ‹å…¨éƒ¨"ç§»åˆ°å¤–éƒ¨ -->
    <view class="section-header">
      <view class="section-title">
        <text class="section-emoji">ğŸ”¥</text>
        <text>çƒ­é—¨æ´»åŠ¨</text>
      </view>
      <view class="more-btn" bindtap="navigateTo" data-url="/pages/activity/index">æŸ¥çœ‹å…¨éƒ¨ ></view>
    </view>
    
    <!-- æ´»åŠ¨åˆ—è¡¨ - ä½¿ç”¨æ›´ç¾è§‚çš„é»˜è®¤å›¾ç‰‡ -->
    <view class="activity-list">
      <view class="activity-card" wx:for="{{activities}}" wx:key="id" bindtap="navigateToDetail" data-id="{{item.id}}" data-type="activity">
        <!-- æ´»åŠ¨å›¾ç‰‡åŒºåŸŸ -->
        <view class="activity-image-container">
          <image class="activity-image" src="{{item.coverUrl}}" mode="aspectFill" />
          <!-- æ´»åŠ¨ç±»å‹æ ‡ç­¾ -->
          <view class="activity-type-tag">æ´»åŠ¨</view>
        </view>
        <view class="activity-info">
          <view class="activity-title">{{item.title}}</view>
          <view class="activity-desc">{{item.description}}</view>
          <view class="activity-footer">
            <view class="activity-time">
              <view class="time-item">
                <text class="time-icon">ğŸ“…</text>
                <text class="time-text">{{item.timeRange}}</text>
              </view>
              <view class="location-item">
                <text class="location-icon">ğŸ“</text>
                <text class="location-text">{{item.location}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- ç²¾é€‰è£…å¤‡æ¨¡å— - ä½¿ç”¨å•†åœºé¡µé¢çš„å•†å“å¡ç‰‡æ ·å¼ -->
  <view class="section-container">
    <view class="section-header">
      <view class="section-title">
        <text class="section-emoji">â­</text>
        <text>ç²¾é€‰è£…å¤‡</text>
      </view>
      <view class="more-btn" bindtap="navigateTo" data-url="/pages/mall/index?category=featured">æŸ¥çœ‹å…¨éƒ¨ ></view>
    </view>
    
    <!-- ä¸¤åˆ—å•†å“å¡ç‰‡å¸ƒå±€ - ä¸å•†åœºé¡µé¢ä¸€è‡´ -->
    <view class="product-grid">
      <view 
        class="product-card" 
        wx:for="{{featuredEquipment}}" 
        wx:key="id" 
        bindtap="navigateToDetail" 
        data-id="{{item.id}}" 
        data-type="product"
      >
        <view class="card-image-wrapper">
          <image class="card-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
          <!-- å•†å“æ ‡ç­¾ï¼ˆçƒ­é”€/æ–°å“ï¼‰ -->
          <view class="product-tag">{{item.tag}}</view>
        </view>
        <view class="card-content">
          <text class="product-name">{{item.name}}</text>
          <view class="product-price-row">
            <text class="product-price">Â¥{{item.price}}</text>
            <text class="product-sales">{{item.sales}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- åº•éƒ¨å¯¼èˆªæ ç”±å…¨å±€é…ç½®çš„tabBaræä¾› -->
