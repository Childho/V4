<view class="mall-container">
  <!-- 顶部标题 -->
  <view class="mall-header">
    <text class="mall-title">商城</text>
    <text class="mall-subtitle">商品分类展示和购物功能</text>
  </view>

  <!-- 搜索栏 -->
  <view class="search-bar">
    <view class="search-input">
      <image class="search-icon" src="/assets/icons/search.svg" mode="aspectFit"></image>
      <input type="text" placeholder="搜索商品" bindinput="onSearchInput" />
    </view>
    <view class="filter-icon" bindtap="showFilter">
      <image src="/assets/icons/filter.svg" mode="aspectFit"></image>
    </view>
    <view class="cart-icon" bindtap="goToCart">
      <image src="/assets/icons/cart.svg" mode="aspectFit"></image>
      <view class="badge" wx:if="{{cartItemCount > 0}}">{{cartItemCount}}</view>
    </view>
  </view>

  <!-- 品牌筛选 -->
  <view class="brand-filter">
    <view class="brand-title">品牌筛选</view>
    <view class="brand-list-container">
      <scroll-view scroll-x class="brand-list" enhanced show-scrollbar="{{false}}">
        <view class="brand-item {{selectedBrand === 'all' ? 'active' : ''}}" bindtap="selectBrand" data-brand="all">全部</view>
        <view class="brand-item {{selectedBrand === 'lining' ? 'active' : ''}}" bindtap="selectBrand" data-brand="lining">李宁</view>
        <view class="brand-item {{selectedBrand === 'victor' ? 'active' : ''}}" bindtap="selectBrand" data-brand="victor">VICTOR</view>
        <view class="brand-item {{selectedBrand === 'yonex' ? 'active' : ''}}" bindtap="selectBrand" data-brand="yonex">尤尼克斯</view>
        <view class="brand-item {{selectedBrand === 'kawasaki' ? 'active' : ''}}" bindtap="selectBrand" data-brand="kawasaki">川崎</view>
        <view class="brand-item {{selectedBrand === 'asta' ? 'active' : ''}}" bindtap="selectBrand" data-brand="asta">亚狮龙</view>
        <view class="brand-item {{selectedBrand === 'weiqiu' ? 'active' : ''}}" bindtap="selectBrand" data-brand="weiqiu">威球</view>
        <view class="brand-item {{selectedBrand === 'thai' ? 'active' : ''}}" bindtap="selectBrand" data-brand="thai">泰昂</view>
      </scroll-view>
    </view>
  </view>

  <!-- 商品分类 -->
  <view class="category-section">
    <view class="section-title">商品分类</view>
    <view class="category-grid">
      <view class="category-item" bindtap="navigateToCategory" data-category="racket">
        <image class="category-icon" src="/assets/icons/badminton-racket.svg" mode="aspectFit"></image>
        <text class="category-name">羽毛球拍</text>
      </view>
      <view class="category-item" bindtap="navigateToCategory" data-category="shoes">
        <image class="category-icon" src="/assets/icons/badminton-shoes.svg" mode="aspectFit"></image>
        <text class="category-name">羽毛球鞋</text>
      </view>
      <view class="category-item" bindtap="navigateToCategory" data-category="ball">
        <image class="category-icon" src="/assets/icons/badminton.svg" mode="aspectFit"></image>
        <text class="category-name">羽毛球</text>
      </view>
      <view class="category-item" bindtap="navigateToCategory" data-category="sportswear">
        <image class="category-icon" src="/assets/icons/sportswear.svg" mode="aspectFit"></image>
        <text class="category-name">运动服装</text>
      </view>
      <view class="category-item" bindtap="navigateToCategory" data-category="accessories">
        <image class="category-icon" src="/assets/icons/accessories.svg" mode="aspectFit"></image>
        <text class="category-name">球拍配件</text>
      </view>
      <view class="category-item" bindtap="navigateToCategory" data-category="discount">
        <image class="category-icon" src="/assets/icons/discount.svg" mode="aspectFit"></image>
        <text class="category-name">折扣专区</text>
      </view>
    </view>
  </view>

  <!-- 羽毛球拍产品列表 -->
  <view class="product-section">
    <view class="section-header">
      <text class="section-title">羽毛球拍</text>
      <view class="view-all" bindtap="viewAllProducts" data-category="racket">
        <text>查看全部</text>
        <text class="arrow">></text>
      </view>
    </view>
    
    <scroll-view scroll-x class="product-list" enhanced show-scrollbar="{{false}}">
      <view class="product-card" wx:for="{{rackets}}" wx:key="id" bindtap="goToProductDetail" data-id="{{item.id}}">
        <image class="product-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-price">¥{{item.price}}</view>
          <view class="product-sold">已售 {{item.soldCount}}</view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 羽毛球鞋产品列表 -->
  <view class="product-section">
    <view class="section-header">
      <text class="section-title">羽毛球鞋</text>
      <view class="view-all" bindtap="viewAllProducts" data-category="shoes">
        <text>查看全部</text>
        <text class="arrow">></text>
      </view>
    </view>
    
    <scroll-view scroll-x class="product-list" enhanced show-scrollbar="{{false}}">
      <view class="product-card" wx:for="{{shoes}}" wx:key="id" bindtap="goToProductDetail" data-id="{{item.id}}">
        <image class="product-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-price">¥{{item.price}}</view>
          <view class="product-sold">已售 {{item.soldCount}}</view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 羽毛球产品列表 -->
  <view class="product-section">
    <view class="section-header">
      <text class="section-title">羽毛球</text>
      <view class="view-all" bindtap="viewAllProducts" data-category="ball">
        <text>查看全部</text>
        <text class="arrow">></text>
      </view>
    </view>
    
    <scroll-view scroll-x class="product-list" enhanced show-scrollbar="{{false}}">
      <view class="product-card" wx:for="{{shuttlecocks}}" wx:key="id" bindtap="goToProductDetail" data-id="{{item.id}}">
        <image class="product-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-price">¥{{item.price}}</view>
          <view class="product-sold">已售 {{item.soldCount}}</view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 运动服装产品列表 -->
  <view class="product-section">
    <view class="section-header">
      <text class="section-title">运动服装</text>
      <view class="view-all" bindtap="viewAllProducts" data-category="sportswear">
        <text>查看全部</text>
        <text class="arrow">></text>
      </view>
    </view>
    
    <scroll-view scroll-x class="product-list" enhanced show-scrollbar="{{false}}">
      <view class="product-card" wx:for="{{sportswear}}" wx:key="id" bindtap="goToProductDetail" data-id="{{item.id}}">
        <image class="product-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-price">¥{{item.price}}</view>
          <view class="product-sold">已售 {{item.soldCount}}</view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 羽毛球配件产品列表 -->
  <view class="product-section">
    <view class="section-header">
      <text class="section-title">羽毛球配件</text>
      <view class="view-all" bindtap="viewAllProducts" data-category="accessories">
        <text>查看全部</text>
        <text class="arrow">></text>
      </view>
    </view>
    
    <scroll-view scroll-x class="product-list" enhanced show-scrollbar="{{false}}">
      <view class="product-card" wx:for="{{accessories}}" wx:key="id" bindtap="goToProductDetail" data-id="{{item.id}}">
        <image class="product-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-price">¥{{item.price}}</view>
          <view class="product-sold">已售 {{item.soldCount}}</view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 浮动购物车按钮 -->
  <view class="floating-cart-btn" bindtap="goToCart">
    <image src="/assets/icons/cart-white.svg" mode="aspectFit"></image>
    <view class="cart-badge" wx:if="{{cartItemCount > 0}}">{{cartItemCount}}</view>
  </view>
</view> 