# 倍特爱小程序文档-开发需求与结构梳理

# 一、项目背景与目标

## 项目背景

随着羽毛球消费市场的竞争日益激烈，品牌方对商品价格的控制日趋严格，导致部分库存商品难以通过传统电商渠道清理。同时，实体门店缺乏有效的数字化运营工具，客户复购率低，管理效率不高。为打破以上瓶颈，公司希望通过微信小程序，构建独立的私域运营平台，连接门店、客户和品牌内容，实现销售转化与品牌传播的双重增长。

## 核心目标

本项目小程序旨在实现以下四个核心目标：

打造会员积分体系建立涵盖线下消费与线上互动的积分系统，提升客户复购率和门店粘性。

推广返佣机制，实现私域裂变通过客户邀请返佣的机制，激励客户主动分享，实现低成本用户增长。

提升商城成交转化率通过秒杀、活动等功能增强商城购买力，引导流量从社群、门店转化为订单。

优化服务体验，提升用户满意度特别是在穿线服务中，客户可随时查看进度，减少人工沟通成本，增强服务透明度与信任感。

## 项目干系人

目前本项目由公司运营负责人独立统筹与执行，承担从策划到开发、测试与上线的全部任务，职责包括：

需求规划与文档整理

小程序前后端开发与联调

UI/UX 原型设计与实现

系统测试与用户体验优化

平台部署与日常运维管理

# 二、用户画像与使用场景

1. 用户画像

| 用户角色 | 画像维度 | 典型特征 |
| --- | --- | --- |
| 门店回头客 | • 年龄：25-45岁 | • 已在门店至少消费过一次• 对积分、会员有较高关注 |
|  | • 消费频次：月均1-2次 | • 线下体验过服务流程，信任度高 |
|  | • 痛点： | • 想省钱／拿奖励，但对新流程不熟悉 |
| 微信私域客户 | • 年龄：20-50岁 | • 已加企业微信／微信群• 活跃于社群，随时可推送活动 |
|  | • 需求： | • 想第一时间知道优惠／新品• 喜欢社群互动 |
|  | • 痛点： | • 微信消息多，容易错过 |
| 穿线高频客户 | • 年龄：18-35岁 | • 羽毛球爱好者；每月至少穿线2次 |
|  | • 关注： | • 服务效率、透明度• 进度可视化 |
|  | • 痛点： | • 担心排队／等待；线上下单流程繁琐 |
| 教练 / 推广员 | • 年龄：25-50岁 | • 带学员／有粉丝渠道• 关注返佣机制 |
|  | • 动机： | • 帮学员省事；赚取佣金 |
|  | • 痛点： | • 推广路径不清晰；佣金结算周期长 |

2. 典型使用场景

| 场景名称 | 流程步骤 | 触达路径 | 关键交互点 |
| --- | --- | --- | --- |
| 预约穿线 | 1. 到店→海报/接待提示扫码2. 选线型&磅数→确认下单3. 查看订单进度 | 门店海报、接待引导 | a. 下单流程一页完成b. 进度状态实时更新 |
| 新品预告 | 1. 后台上架新品预售→推送通知2. 用户点通知→商城查看详情 | 微信群、朋友圈链接 | a. 通知卡片跳转b. 预售倒计时 |
| 活动报名 | 1. 活动页发布→用户点击报名2. 积分抵扣/兑换名额→确认 | 活动页、分享链接 | a. 积分使用说明b. 报名确认弹窗 |
| 分享裂变 | 1. 教练/推广员生成专属二维码2. 新用户扫码进来→自动关联返佣 | 推广二维码、合伙人页面 | a. 绑定关系提示b. 佣金实时展示 |

# 三、需求梳理与功能清单

## 1. 功能框架图

| 模块 | 页面 | 功能点 |
| --- | --- | --- |
| **首页** | - | • 搜索栏 (搜索商品)• Banner 轮播• 活动区• 精选装备 |
| **活动页** | 列表页 | • 搜索活动• 状态筛选 Tabs (全部/进行中/即将开始) |
|  | 详情页 | • 活动主题/时间/地点/主办方• 活动规则 |
| **商场** | 列表/首页 | • 搜索栏• 限时秒杀专区• Banner 轮播• 各商品展示区 |
|  | 秒杀页 | • 搜索• 品牌筛选• 倒计时&秒杀价• 悬浮购物车 |
|  | 商品详情页 | • 商品图片/标题/发货时效/保障• 评论&相关推荐• 参数详情 |
|  | 搜索结果页 | • 类目导航• 排序&筛选• 结果列表 |
|  | 购买确认页 | • 规格/优惠券/备注/发票 |
|  | 购物车 | • 多选删除• 列表（图+规格+数量+单价）• 全选/结算/金额明细 |
| **服务页** | 五个 Tab | 1. 穿线服务：球拍信息→线材→下单→进度2. 积分兑换：余额/商品/记录3. 推广返佣：二维码/统计/提现4. 我的服务（进度/记录） |
| **我的页面** | - | • 个人信息&会员等级&积分• 优惠券（三种状态）• 我的服务入口• 订单 Tabs (全/待付/待发/待收/待评/售后)• 每日任务• 地址管理 |

## 2. MVP 边界（核心功能标星⭐）

只保留“验证核心业务价值”所需的最少功能——**穿线服务闭环 ＋ 商品下单闭环 ＋ 会员积分激励**。

| 模块 | 页面 | 功能点 | MVP? |
| --- | --- | --- | --- |
| 首页 | — | 搜索栏Banner精选活动 | ⭐ |
| 活动页 | 列表页 | 全部/进行中搜索 |  |
|  | 详情页 | 报名（积分抵扣） |  |
| 商场 | 列表/首页 | 搜索栏商品展示区（拍、鞋、配件） | ⭐ |
|  | 商品详情页 | 图片/标题/价格/加入购物车/立即购买 | ⭐ |
|  | 购物车 | 商品列表结算 | ⭐ |
| 服务页 | 穿线服务 | 球拍信息→线材→下单→查看进度 | ⭐ |
| 我的页面 | — | 个人积分余额订单列表（全部/待收货） | ⭐ |

# 四、页面跳转与信息架构设计

本节用于定义用户从主导航栏（Tab 栏）出发，各功能模块的页面跳转逻辑与结构，便于开发时构建清晰的页面路由关系。

首页
├── 推广返佣卡片点击 → 服务 Tab - 推广返佣
├── 穿线服务卡片点击 → 服务 Tab - 穿线服务
├── 积分兑换卡片点击 → 服务 Tab - 积分兑换
├── 客服卡片点击 → 微信客服（小程序内页）
├── 活动区“查看全部” → 活动列表页
│   └── 活动卡片点击 → 活动详情页
├── 精选装备“查看全部” → 商品列表页（全部）
│   └── 精选商品点击 → 商品详情页

活动 Tab
└── 活动卡片点击 → 活动详情页

商场 Tab
├── 商品点击 → 商品详情页
├── 搜索栏提交 → 搜索结果页（带筛选）
│   └── 商品点击 → 商品详情页
├── Banner 点击 → 商品详情页
├── 羽毛球拍“查看更多” → 搜索结果页（预选羽拍）
├── 羽毛球鞋“查看更多” → 搜索结果页（预选球鞋）
├── 运动必备“查看更多” → 搜索结果页（预选配件）
├── 限时秒杀商品点击 → 商品详情页
└── 限时秒杀“更多” → 秒杀商品列表页

服务 Tab（含 4 个子 Tab）
├── 穿线服务 Tab
│   └── 提交后跳转 → 我的服务 Tab（查看进度）
├── 积分兑换 Tab
│   └── 商品点击 → 兑换确认页
├── 推广返佣 Tab
│   └── 点击提现按钮 → 提现申请页
└── 我的服务 Tab
├── 穿线进度记录
├── 奖品物流记录
└── 返佣记录

我的 Tab
├── 当前积分点击 → 服务 Tab - 积分兑换
├── 优惠券入口点击 → 优惠券列表页
├── 我的服务入口 → 服务 Tab - 我的服务
├── 订单分类点击 → 各订单列表页（待付款 / 待发货 / 等）
└── 地址管理点击 → 地址管理页

# 五、数据模型 / 表结构设计

## 📦 模块名称：首页 - 搜索栏

- 用户行为：
    - 用户在首页输入关键词进行商品搜索
    - 点击搜索后跳转至【商场 - 商品搜索结果页】
- 数据要求：
    - 不依赖后端热词推荐
    - 仅接收用户输入关键词作为参数
    - 使用关键词对商品标题字段进行模糊匹配
- 页面跳转参数：
    - keyword（搜索关键词，string 类型）

### 📦 模块名称：首页 - Banner 轮播图

- 展示方式：
    - 支持前端左右滑动
    - 用户点击后跳转到对应页面（商品或活动详情）
- 数据来源：
    - 由运营人员在后台手动上传配置
- 每条轮播数据需包含：
    - 图片地址（imageUrl）
    - 跳转类型（targetType）：商品 / 活动
    - 跳转目标 ID（targetId）
- 跳转逻辑：
    - 若 targetType 为 `product`，跳转至商品详情页，附带商品 ID
    - 若 targetType 为 `event`，跳转至活动详情页，附带活动 ID

### 📦 模块名称：首页 - 快捷功能入口

- 展示方式：
    - 固定展示四个图标（推广返佣、穿线服务、积分兑换、客服）
    - 图标与文字为前端写死，暂不通过后端控制
- 跳转逻辑（固定跳转）：
    - 推广返佣 → 服务页 - 推广返佣 Tab
    - 穿线服务 → 服务页 - 穿线服务 Tab
    - 积分兑换 → 服务页 - 积分兑换 Tab
    - 客服 → 微信客服页（支持 wx.openCustomerServiceChat）
- 后续可扩展性建议：
    - 若需动态配置入口，可由后台提供一个图标配置数组
    - 每个入口配置包含 icon 图片地址、标题、跳转类型枚举等字段

### 📦 模块名称：首页 - 活动推荐区域

### 🧭 页面功能

- 在首页展示最多 2 个“推荐活动”卡片，来自运营后台配置
- 用户点击后跳转至该活动的详情页

### 🗃 数据来源

- 所有活动信息统一存储于“活动信息表”
- 后台有一个字段“是否推荐到首页”用于控制展示
- 推荐活动支持排序：后台可设置排序数值，越小越靠前

### 📌 页面展示字段（来自活动信息表）

- 活动 ID（eventId，用于跳转）
- 活动标题（title）
- 封面图（coverImage）
- 活动时间范围（startTime / endTime）

### 📦 模块名称：首页 - 精选装备区域

### 🧭 页面功能

- 在首页展示最多 6 个精选商品卡片
- 用户点击后跳转至商品详情页

### 🗃 数据来源

- 商品信息由后台统一维护
- 后台可勾选“是否为精选商品”，并设置展示排序（数值越小越靠前）

### 📌 页面展示字段（来自商品信息表）

- 商品 ID（productId，用于跳转）
- 商品标题（title）
- 商品主图（imageUrl）
- 当前价格（price）

## **📦 模块名称：活动信息与详情展示**

### 🧭 页面与交互说明

1. **活动列表页（首页 / 活动 Tab）**
    - 数据来源：接口返回所有 `isPublished = true` 的活动
    - Tabs 分类：全部 / 进行中 / 即将开始，由前端根据活动时间判断：
        - 进行中：当前时间介于 `startTime` 和 `endTime` 之间
        - 即将开始：当前时间早于 `startTime`
    - 搜索支持：支持关键词搜索（字段为 `title`），搜索参数为 `keyword`
2. **活动卡片展示字段**
    - `eventId`：活动 ID（用于跳转详情页）
    - `title`：活动标题
    - `coverImage`：活动封面图
    - `brief`：活动简介
    - `startTime / endTime`：活动时间范围
    - `location`：活动地点（线上 / 线下）
    - `organizer`：主办方名称
    - `isPublished`：是否发布上线
3. **活动卡片逻辑**
    - 点击卡片 → 跳转至【活动详情页】
    - 活动结束后 30 天自动隐藏（定期清理策略）

---

### 📦 模块名称：活动详情页 & 报名功能

### 📄 活动详情页展示字段

- `eventId`：活动 ID
- `title`：标题
- `coverImage`：封面图
- `startTime / endTime`：活动时间
- `location`：活动地点
- `organizer`：主办方
- `rules`：活动规则图文说明
- `maxParticipants`：报名人数上限
- `signupDeadline`：报名截止时间

### ✍️ 报名功能说明

- 用户点击“立即报名”后，弹出报名表单（前端模态框）
- 表单字段（用户需填写）：
    - `name`：报名人姓名
    - `phone`：报名手机号

### 🧩 报名逻辑控制（由后端判断）

- 当前时间晚于 `signupDeadline`，则报名按钮禁用
- 当前报名人数 ≥ `maxParticipants`，则提示“名额已满”，按钮禁用
- 每个用户只能报名一次（user_id + event_id 唯一性限制）

## ✅ 商场模块 · 数据模型说明（for 开发文档）

---

### 📦 模块名称：商品基础信息与分类

### 🧭 页面说明

- 商场首页展示三类商品区块（羽毛球拍、羽毛球鞋、运动必备），每类最多展示 4 个商品预览。
- 点击“查看更多”跳转至商品列表页，并预选对应分类。
- 支持顶部搜索栏关键词搜索，范围包含商品标题 + 品牌名。

### 📄 商品字段要求（用于商品列表卡片展示）

- productId：商品唯一 ID
- title：商品标题
- imageUrl：主图（列表图）
- price：售价
- salesCount：销量
- category：商品分类（羽拍、鞋、运动必备等）
- brand：品牌名（李宁、威克多、尤尼克斯等）

### 模块名称：商品搜索结果页（含筛选）

**🧭 页面说明**

- 页面来源：
    - 首页搜索栏输入关键词 → 跳转到该页
    - 商场顶部搜索栏
    - “查看更多”分类入口（自动预选分类）
- 页面结构：
    1. **顶部类目导航**（后台可配置）
        
        固定展示六大类：羽毛球拍、羽毛球鞋、羽球服、球包、羽毛球、运动配件
        
        类目后台可新增、修改名称
        
    2. **中部排序筛选区**
        - 排序选项：销量从高到低、从低到高；价格从高到低、从低到高
        - 品牌筛选弹窗：用户可多选品牌（如：李宁、威克多、倍特爱…）
            
            品牌后台可动态添加
            
    3. **商品列表卡片**：展示所有匹配商品
        - 支持分页加载（上拉加载更多）

### 📄 字段说明

### 页面请求参数

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| `keyword` | string | 搜索关键词，模糊匹配商品标题、品牌名 |
| `category` | string | 类目筛选（如：racket、shoes） |
| `brandIds` | array<string> | 多选品牌 ID（后台配置品牌表） |
| `sortBy` | string | 排序依据，如 `sales_desc` / `price_asc` |

### 商品卡片展示字段（来自商品表）

| 字段名 | 描述 |
| --- | --- |
| productId | 商品唯一标识 |
| title | 商品标题 |
| imageUrl | 商品主图 |
| originalPrice | 商品原价（用于划线） |
| price | 当前优惠价 |
| salesCount | 月销量 |
| tags | 商品标签，如“特价”“新品”（可选） |

### 品牌筛选数据来源

- 品牌名称与 ID 来自后台商品品牌表
- 品牌字段支持新增、启用/停用等后台配置
- 示例品牌：李宁、威克多、尤尼克斯、倍特爱、翎美、泰昂、GOSEN 等

📌 页面 UI 元素与字段对照说明：

- 顶部类目栏 → `category` 选项值，由后台维护
- 筛选弹窗 → 从品牌表中读取 `brandList`
- 排序条件 → 前端切换 `sortBy` 字段并重新请求

### 🧭 页面与交互补充

- **兜底逻辑**：
    - 无论关键词输入是否精准匹配，都跳转至商品搜索结果页
    - 若没有完全匹配的商品，默认展示所有商品列表（不报“无结果”空白页）
    - 默认状态下，商品按照系统推荐顺序（如热销、上新等）排列
- **相关度排序**：
    - 搜索接口需根据关键词与商品标题、品牌名的相关度进行排序
    - 相关度高的商品靠前，相关性较低的商品仍展示但排在后面
    - 后端需返回每个商品的相关度分数或按排序规则自动排列

### 📄 字段补充

- 请求参数增加：
    - `keyword`（可为空字符串，空时返回全部商品，按默认排序）
- 返回字段补充（如需）：
    - `relevanceScore`（可选，商品与当前关键词的相关度分数）

### 📦 模块名称：商场 - 限时秒杀区

### 🧭 页面说明

- 商场首页展示 3～5 个正在进行秒杀的商品预览。
- 点击任意商品进入详情页；点击“更多”跳转至限时秒杀专属页。
- 秒杀商品信息通过字段 `isSeckill = true` 区分。

### 📄 秒杀商品额外字段

- seckillPrice：秒杀价
- seckillEndTime：倒计时截止时间
- 秒杀排序字段（可选）：sort_index 或 start_time

### 📦 模块名称：商品详情页

### 🧭 页面展示内容

- title：商品标题
- imageList：主图轮播图
- price：当前售价
- originalPrice：原价（可选，用于显示划线价）
- salesCount：已售数量
- deliveryTime：发货时效说明（如“48小时内发货”）
- supportPolicy：服务保障标签（如“七天无理由退换”）
- productDetailHtml：图文详情 HTML 内容
- recommendList：相关推荐商品（来自推荐算法）

### 🗂 参数结构（后台支持配置）

- 商品规格：颜色、尺码、重量等，支持弹窗选择（键值对结构）
- 商品参数：后台自定义属性，例如【品牌：李宁】【重量：85g】等

### 📦 模块名称：商品评论系统

### 🧭 页面展示内容

- avatarUrl：用户头像
- nickname：用户昵称
- rating：评分（1～5星）
- content：评论文字
- createdAt：评论时间

### 🧾 功能说明

- 每个商品对应多个评论（分页加载）
- 评论由用户购买后提交，后端支持分页查询

### 📦 模块名称：购物车操作与购买流程

### 🛒 加入购物车交互

- 用户在商品详情页点击“加入购物车”弹出规格选择框，选择后调用添加购物车接口。
- 需记录：
    - user_id
    - product_id
    - 选择的规格（颜色、尺码等）
    - 数量

### ✅ 立即购买交互

- 用户点击“立即购买”也需弹窗选规格，之后跳转确认下单页。
- 需传入参数：
    - product_id
    - 数量
    - 规格信息
    - 用户地址
    - 可用优惠券
    - 备注信息

### 📦 模块名称：购物车（Cart）

### 🛒 页面功能

- 列表展示用户已加入购物车的商品
    - 每条目显示：商品标题、规格详情（颜色、容量等）、单价、小计、商品图片
- 支持操作：
    - 多选 / 全选（用于删除或结算）
    - 增减数量
    - 删除选中项
    - 点击商品跳转至商品详情页
    - 点击“结算”跳转至确认订单页
- 显示合计金额、已优惠金额，支持展开“明细”查看优惠券抵扣等信息。

### 📄 字段需求说明

| 字段 | 说明 |  |
| --- | --- | --- |
| `user_id` | 用户唯一标识，关联用户表 |  |
| `product_id` | 商品唯一标识 |  |
| `title` | 商品标题快照，用于列表展示 |  |
| `image_url` | 商品图片快照 |  |
| `selected_specs` | 已选规格详情（如 JSON 字符串或键值对列表） |  |
| `unit_price` | 单价快照（下单时商品价格） |  |
| `quantity` | 数量 |  |
| `is_checked` | 是否选中（用于批量删除 / 结算） |  |
| `subtotal` | 小计金额（可由后端计算：unit_price * quantity） |  |
| `created_at` | 加入购物车时间 |  |
| `updated_at` | 最后更新时间（用于数量变更） |  |

> 可选字段（如需支持购物车内直接使用优惠券，可加入）：
> 
> - `coupon_id`：已选择的优惠券 ID
> - `discount_amount`：该条目优惠金额

### 确认订单 · 数据模型说明

### 📦 模块名称：订单确认页

### 🧭 页面功能

- **收货地址**
    - 优先展示用户的默认地址（后端在地址表 `is_default` 字段标记）
    - 点击跳转到地址选择/管理页面
- **商品信息列表**
    
    列表展示所有待下单商品项，每项包含：
    
    - 商品标题、规格（颜色/容量/尺码等）
    - 单价、数量、小计
    - 商品图片
- **优惠券**
    
    显示当前可用优惠券张数，点击可选择某张优惠券。
    
    - 默认不选中
    - 点击跳转到优惠券列表页，用户可手动选择
- **备注**
    
    前端提供输入框，用户填写买家留言（选填）
    
    **运费**
    
    - 由商品的 `shipping_fee` 属性决定
    - 后台在商品表中配置每个商品的运费
- **费用明细**
    - 商品金额（所有小计之和）
    - 运费（如免运费则显示“免运费”）
    - 优惠金额（所选优惠券抵扣）
    - 实付金额（最终应付总额）
- **提交订单**
    
    点击后调用下单接口，生成新订单并跳转支付页。
    

### 📄 字段需求说明

| 业务项 | 字段（逻辑含义） |
| --- | --- |
| 用户 | user_id |
| 收货地址 | address_id |
| 商品列表 | items: 数组，每项包含： |
|  | • product_id |
|  | • title |
|  | • image_url |
|  | • specs |
|  | • unit_price |
|  | • quantity |
|  | • subtotal |
| 优惠券 | coupon_id（选填） |
| 备注 | remark（选填） |
| 运费 | shipping_fee |
| 金额汇总 | • items_total |
|  | • discount_amount |
|  | • total_amount |
| 订单状态 | status（Pending_Payment 等） |
| 时间戳 | created_at |

## 服务模块 · 数据模型说明

### 📦 子模块：穿线服务 Tab

### 🧭 页面与交互

- 用户填写表单提交穿线请求
- 填写字段：
    - racketModel（球拍型号）
    - poundage（磅数要求）
    - stringId（所选线材 ID，从商品表中标签为“线材”的商品中读取）
    - note（备注说明，可选）
    - name（客户姓名）
    - phone（联系电话）
- 提交后生成穿线服务记录
- 在“我的服务”Tab 查看该记录及进度

### 📄 字段需求说明

- recordId：穿线记录唯一 ID
- user_id：用户关联
- racketModel：球拍型号
- poundage：磅数
- stringId：线材商品 ID
- stringName：线材名称（快照）
- note：备注说明
- name：客户姓名
- phone：联系电话
- createdAt：提交时间
- status：当前进度（待接单 / 穿线中 / 已完成）
- statusUpdateTime：最后更新时间
- progressLog：状态变化记录列表（[{time, status}, …]）

### 模块：积分兑换 Tab

### 🧭 页面与交互

- 展示当前积分余额
- 列出所有“可积分兑换”商品
- 分页展示最近兑换记录
- 用户点击兑换按钮发起请求

### 📄 字段需求说明

- user_id：用户关联
- points_balance：当前积分余额
- **兑换商品字段（来源商品表）**
    - productId：商品 ID
    - pointsRequired：所需积分
    - stock：可兑换库存
- **兑换记录字段**
    - recordId：兑换记录 ID
    - productId：商品 ID
    - pointsSpent：消耗积分
    - quantity：兑换数量
    - createdAt：兑换时间
    - status：状态（成功 / 失败；失败原因可选）

### 推广返佣 Tab

### 🧭 页面与交互

- 展示专属推广二维码与链接
- 展示累计邀请人数、累计返佣、今日收益、可提现余额
- 分页列出佣金明细
- 提现申请：输入金额后提交，仅支持“提现到微信”

### 📄 字段需求说明

- user_id：用户关联
- **返佣汇总**
    - total_invites：累计邀请人数
    - total_commission：累计返佣金额
    - today_commission：今日返佣
    - withdrawable_balance：当前可提现余额
- **佣金记录**（多条）
    - commissionId：记录 ID
    - sourceUserId：来源用户
    - amount：金额
    - type：类型（注册奖励 / 下单返佣）
    - createdAt：获得时间
- **提现记录**（多条）
    - withdrawalId：提现申请 ID
    - amount：提现金额
    - status：状态（审核中 / 成功 / 失败）
    - applyTime：申请时间
    - auditTime：审核完成时间或失败说明

### **我的服务tab模块**

### 📦 子模块：穿线进度

### 🧭 页面与交互

- Tab：“穿线进度”
- 展示用户所有穿线订单进度卡片
- 每条卡片显示：
    - 球拍型号
    - 主线磅数、横线磅数
    - 预计完成时间
    - 当前状态（待接单/穿线中/已完成）
    - 进度日志（状态+时间列表）

### 📄 字段需求说明

- `record_id`：穿线记录唯一 ID
- `user_id`：用户关联
- `racket_model`：球拍型号
- `main_tension`：主线磅数
- `cross_tension`：横线磅数
- `estimated_completion_time`：预计完成时间
- `status`：当前进度状态
- `status_update_time`：最后更新时间
- `progress_log`：状态变化记录列表（[{time, status},…]）
- `created_at`：提交时间

## 我的页面模块所需数据结构

### 📦 子模块：个人信息展示

- **展示字段**（仅展示，不可编辑）：
    - 微信头像（avatarUrl）
    - 微信昵称（nickname）
    - 会员等级（memberLevel，如“初级会员”/“黄金会员”）
    - 当前积分（points）
    - 距离下一级所需积分（pointsToNextLevel）
- **数据来源**：由用户表（users）返回对应字段，头像与昵称同步自微信授权。
- **跳转逻辑**：点击积分区 → 跳转至“积分兑换”Tab（服务模块）。

> 交给 Cursor 的任务：
> 
> 
> 从 `users` 表读取上述显示字段，无需更新接口。
> 

---

### 📦 子模块：我的订单列表

- **Tabs**：全部 / 待付款 / 待发货 / 待收货 / 待评价 / 退款/售后
- **订单卡片展示字段**：
    - 商品图（productImage）
    - 商品名称（productTitle）
    - 规格（spec）
    - 数量（quantity）
    - 订单总价（totalAmount）
    - 订单状态文字（orderStatus）
- **操作按钮**（根据 `orderStatus` 变化展示）：
    - 待付款：立即付款
    - 待发货：催发货
    - 待收货：查看物流 / 确认收货
    - 待评价：去评价
    - 退款/售后：查看物流 / 退款详情
- **数据来源**：调用 `GET /api/orders?status={status}` 接口返回订单列表。

### 子模块：优惠券列表

- **Tabs**：全部 / 可使用 / 即将过期
- **展示字段**：
    - 券面金额（amount）
    - 使用条件（condition，如“满199可用”）
    - 有效期（validFrom、validTo）
- **操作逻辑**：
    - 全场券：点击“使用”跳转至商场首页
    - 指定商品券：点击“使用”跳转至对应商品详情页（后端返回 targetProductId）
- **数据来源**：调用 `GET /api/coupons?status={status}` 返回用户优惠券列表。

### 子模块：每日任务中心

- **任务列表**：每日签到 / 分享小程序 / 邀请好友
- **展示字段**：
    - 任务名称（taskTitle）
    - 说明（description）
    - 完成奖励积分（pointsReward）
    - 操作按钮文字（buttonText，如“去签到”/“去分享”）
    - 是否已完成（isCompleted）
- **交互逻辑**：
    - 签到：点击立即调用 `POST /api/tasks/signin` 完成
    - 分享/邀请：点击触发微信分享，小程序通过 `onShareAppMessage` 回调更新完成状态
- **数据来源**：调用 `GET /api/tasks/daily` 接口获取任务列表与完成状态。

### 子模块：地址管理

- **列表展示**：用户所有地址，默认地址 `isDefault=true` 排前
- **展示/编辑字段**：
    - 地址 ID（addressId）
    - 所在地区（region，如“广东省 深圳市 南山区”）
    - 详细地址（detailAddress）
    - 收件人姓名（recipientName）
    - 手机号（phone）
    - 是否默认（isDefault）
- **操作接口**：新增（POST）、编辑（PUT）、删除（DELETE）、设默认（PATCH）
- **跳转逻辑**：点击“管理”或“收货地址”区域 → 跳转地址管理页。

#