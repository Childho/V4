# 倍特爱小程序文档-开发需求与结构梳理

# 一、项目背景与目标

## 项目背景

随着羽毛球消费市场的竞争日益激烈，品牌方对商品价格的控制日趋严格，导致部分库存商品难以通过传统电商渠道清理。同时，实体门店缺乏有效的数字化运营工具，客户复购率低，管理效率不高。为打破以上瓶颈，公司希望通过微信小程序，构建独立的私域运营平台，连接门店、客户和品牌内容，实现销售转化与品牌传播的双重增长。

## 核心目标

本项目小程序旨在实现以下四个核心目标：

打造会员积分体系建立涵盖线下消费与线上互动的积分系统，提升客户复购率和门店粘性。

推广返佣机制，实现私域裂变通过客户邀请返佣的机制，激励客户主动分享，实现低成本用户增长。

提升商城成交转化率通过秒杀、活动等功能增强商城购买力，引导流量从社群、门店转化为订单。

优化服务体验，提升用户满意度特别是在穿线服务中，客户可随时查看进度，减少人工沟通成本，增强服务透明度与信任感。

## 项目干系人

目前本项目由公司运营负责人独立统筹与执行，承担从策划到开发、测试与上线的全部任务，职责包括：

需求规划与文档整理

小程序前后端开发与联调

UI/UX 原型设计与实现

系统测试与用户体验优化

平台部署与日常运维管理

# 二、用户画像与使用场景

1. 用户画像

| 用户角色 | 画像维度 | 典型特征 |
| --- | --- | --- |
| 门店回头客 | • 年龄：25-45岁 | • 已在门店至少消费过一次• 对积分、会员有较高关注 |
|  | • 消费频次：月均1-2次 | • 线下体验过服务流程，信任度高 |
|  | • 痛点： | • 想省钱／拿奖励，但对新流程不熟悉 |
| 微信私域客户 | • 年龄：20-50岁 | • 已加企业微信／微信群• 活跃于社群，随时可推送活动 |
|  | • 需求： | • 想第一时间知道优惠／新品• 喜欢社群互动 |
|  | • 痛点： | • 微信消息多，容易错过 |
| 穿线高频客户 | • 年龄：18-35岁 | • 羽毛球爱好者；每月至少穿线2次 |
|  | • 关注： | • 服务效率、透明度• 进度可视化 |
|  | • 痛点： | • 担心排队／等待；线上下单流程繁琐 |
| 教练 / 推广员 | • 年龄：25-50岁 | • 带学员／有粉丝渠道• 关注返佣机制 |
|  | • 动机： | • 帮学员省事；赚取佣金 |
|  | • 痛点： | • 推广路径不清晰；佣金结算周期长 |

2. 典型使用场景

| 场景名称 | 流程步骤 | 触达路径 | 关键交互点 |
| --- | --- | --- | --- |
| 预约穿线 | 1. 到店→海报/接待提示扫码2. 选线型&磅数→确认下单3. 查看订单进度 | 门店海报、接待引导 | a. 下单流程一页完成b. 进度状态实时更新 |
| 新品预告 | 1. 后台上架新品预售→推送通知2. 用户点通知→商城查看详情 | 微信群、朋友圈链接 | a. 通知卡片跳转b. 预售倒计时 |
| 活动报名 | 1. 活动页发布→用户点击报名2. 积分抵扣/兑换名额→确认 | 活动页、分享链接 | a. 积分使用说明b. 报名确认弹窗 |
| 分享裂变 | 1. 教练/推广员生成专属二维码2. 新用户扫码进来→自动关联返佣 | 推广二维码、合伙人页面 | a. 绑定关系提示b. 佣金实时展示 |

# 三、需求梳理与功能清单

## 1. 功能框架图

| 模块 | 页面 | 功能点 |
| --- | --- | --- |
| **首页** | - | • 搜索栏 (搜索商品)• Banner 轮播• 活动区• 精选装备 |
| **活动页** | 列表页 | • 搜索活动• 状态筛选 Tabs (全部/进行中/即将开始) |
|  | 详情页 | • 活动主题/时间/地点/主办方• 活动规则 |
| **商场** | 列表/首页 | • 搜索栏• 限时秒杀专区• Banner 轮播• 各商品展示区 |
|  | 秒杀页 | • 搜索• 品牌筛选• 倒计时&秒杀价• 悬浮购物车 |
|  | 商品详情页 | • 商品图片/标题/发货时效/保障• 评论&相关推荐• 参数详情 |
|  | 搜索结果页 | • 类目导航• 排序&筛选• 结果列表 |
|  | 购买确认页 | • 规格/优惠券/备注/发票 |
|  | 购物车 | • 多选删除• 列表（图+规格+数量+单价）• 全选/结算/金额明细 |
| **服务页** | 五个 Tab | 1. 穿线服务：球拍信息→线材→下单→进度2. 积分兑换：余额/商品/记录3. 推广返佣：二维码/统计/提现4. 我的服务（进度/记录） |
| **我的页面** | - | • 个人信息&会员等级&积分• 优惠券（三种状态）• 我的服务入口• 订单 Tabs (全/待付/待发/待收/待评/售后)• 每日任务• 地址管理 |

## 2. MVP 边界（核心功能标星⭐）

只保留“验证核心业务价值”所需的最少功能——**穿线服务闭环 ＋ 商品下单闭环 ＋ 会员积分激励**。

| 模块 | 页面 | 功能点 | MVP? |
| --- | --- | --- | --- |
| 首页 | — | 搜索栏Banner精选活动 | ⭐ |
| 活动页 | 列表页 | 全部/进行中搜索 |  |
|  | 详情页 | 报名（积分抵扣） |  |
| 商场 | 列表/首页 | 搜索栏商品展示区（拍、鞋、配件） | ⭐ |
|  | 商品详情页 | 图片/标题/价格/加入购物车/立即购买 | ⭐ |
|  | 购物车 | 商品列表结算 | ⭐ |
| 服务页 | 穿线服务 | 球拍信息→线材→下单→查看进度 | ⭐ |
| 我的页面 | — | 个人积分余额订单列表（全部/待收货） | ⭐ |

# 四、页面跳转与信息架构设计

本节用于定义用户从主导航栏（Tab 栏）出发，各功能模块的页面跳转逻辑与结构，便于开发时构建清晰的页面路由关系。

首页
├── 推广返佣卡片点击 → 服务 Tab - 推广返佣
├── 穿线服务卡片点击 → 服务 Tab - 穿线服务
├── 积分兑换卡片点击 → 服务 Tab - 积分兑换
├── 客服卡片点击 → 微信客服（小程序内页）
├── 活动区“查看全部” → 活动列表页
│   └── 活动卡片点击 → 活动详情页
├── 精选装备“查看全部” → 商品列表页（全部）
│   └── 精选商品点击 → 商品详情页

活动 Tab
└── 活动卡片点击 → 活动详情页

商场 Tab
├── 商品点击 → 商品详情页
├── 搜索栏提交 → 搜索结果页（带筛选）
│   └── 商品点击 → 商品详情页
├── Banner 点击 → 商品详情页
├── 羽毛球拍“查看更多” → 搜索结果页（预选羽拍）
├── 羽毛球鞋“查看更多” → 搜索结果页（预选球鞋）
├── 运动必备“查看更多” → 搜索结果页（预选配件）
├── 限时秒杀商品点击 → 商品详情页
└── 限时秒杀“更多” → 秒杀商品列表页

服务 Tab（含 4 个子 Tab）
├── 穿线服务 Tab
│   └── 提交后跳转 → 我的服务 Tab（查看进度）
├── 积分兑换 Tab
│   └── 商品点击 → 兑换确认页
├── 推广返佣 Tab
│   └── 点击提现按钮 → 提现申请页
└── 我的服务 Tab
├── 穿线进度记录
├── 奖品物流记录
└── 返佣记录

我的 Tab
├── 当前积分点击 → 服务 Tab - 积分兑换
├── 优惠券入口点击 → 优惠券列表页
├── 我的服务入口 → 服务 Tab - 我的服务
├── 订单分类点击 → 各订单列表页（待付款 / 待发货 / 等）
└── 地址管理点击 → 地址管理页

# 五、数据模型 / 表结构设计

## 📦 模块名称：首页 - 搜索栏

- 用户行为：
    - 用户在首页输入关键词进行商品搜索
    - 点击搜索后跳转至【商场 - 商品搜索结果页】
- 数据要求：
    - 不依赖后端热词推荐
    - 仅接收用户输入关键词作为参数
    - 使用关键词对商品标题字段进行模糊匹配
- 页面跳转参数：
    - keyword（搜索关键词，string 类型）

### 📦 模块名称：首页 - Banner 轮播图

- 展示方式：
    - 支持前端左右滑动
    - 用户点击后跳转到对应页面（商品或活动详情）
- 数据来源：
    - 由运营人员在后台手动上传配置
- 每条轮播数据需包含：
    - 图片地址（imageUrl）
    - 跳转类型（type）：商品 / 活动
    - 跳转目标 ID（linkId）
- 跳转逻辑：
    - 若 type为 `product`，跳转至商品详情页，附带商品 ID
    - 若 type为 `event`，跳转至活动详情页，附带活动 ID

```
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 | |
| body.banners | array | 是 | 轮播图列表 | |
| body.banners[].id | string | 是 | 轮播图ID | banner_1 |
| body.banners[].imageUrl | string | 是 | 轮播图图片URL | https://example.com/image.jpg |
| body.banners[].type | string | 是 | 跳转类型（product商品/activity活动） | activity |
| body.banners[].linkId | string | 是 | 跳转目标ID | activity_1 |
| body.banners[].title | string | 是 | 轮播图主标题 | 夏季网球训练营 |
| body.banners[].subtitle | string | 是 | 轮播图副标题 | 专业教练指导，提升你的网球技能 |
| message | string | 是 | 响应消息 | 获取轮播图数据成功 |
| success | bool | 是 | 是否成功 | true |
```

### 📦 模块名称：首页 - 快捷功能入口

- 展示方式：
    - 固定展示四个图标（推广返佣、穿线服务、积分兑换、客服）
    - 图标与文字为前端写死，暂不通过后端控制
- 跳转逻辑（固定跳转）：
    - 推广返佣 → 服务页 - 推广返佣 Tab
    - 穿线服务 → 服务页 - 穿线服务 Tab
    - 积分兑换 → 服务页 - 积分兑换 Tab
    - 客服 → 微信客服页（支持 wx.openCustomerServiceChat）
- 后续可扩展性建议：
    - 若需动态配置入口，可由后台提供一个图标配置数组
    - 每个入口配置包含 icon 图片地址、标题、跳转类型枚举等字段

### 📦 模块名称：首页 - 活动推荐区域

### 🧭 页面功能

- 在首页展示最多 2 个“推荐活动”卡片，来自运营后台配置

```
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| limit | int | 否 | 返回数量限制（首页默认2） | 2 |
| isRecommended | bool | 否 | 是否只返回推荐到首页的活动（默认true） | true |
| featured | bool | 否 | 是否只返回精选活动（默认true，首页调用） | true |
```

- 用户点击后跳转至该活动的详情页

### 🗃 数据来源

- 所有活动信息统一存储于“活动信息表”
- 后台有一个字段“是否推荐到首页”用于控制展示
- 推荐活动支持排序：后台可设置排序数值，越小越靠前

### 📌 页面展示字段（来自活动信息表）

```
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 | |
| body.activities | array | 是 | 活动列表 | |
| body.activities[].id | string | 是 | 活动ID | activity_1 |
| body.activities[].title | string | 是 | 活动标题 | 门店周年庆活动 |
| body.activities[].description | string | 是 | 活动详细描述 | 全场商品8折，会员额外95折，还有精美礼品赠送 |
| body.activities[].coverUrl | string | 是 | 活动封面图URL | https://example.com/cover.jpg |
| body.activities[].timeRange | string | 是 | 活动时间范围 | 6月18日-6月24日 |
| body.activities[].location | string | 是 | 活动地点 | 滨顺店 |
| body.totalFeaturedCount | int | 是 | 当前首页精选活动总数 | 2 |
| body.totalActivitiesCount | int | 是 | 当前所有活动总数 | 15 |
| message | string | 是 | 响应消息 | 获取热门活动成功 |
| success | bool | 是 | 是否成功 | true |
```

```markdown
- `id`: 活动的唯一标识符
- `title`: 活动标题，用于页面展示
- `description`: 活动的详细描述信息
- `coverUrl`: 活动封面图片URL
- `timeRange`: 活动时间范围的文字描述
- `location`: 活动举办地点
- `totalFeaturedCount`: 当前设置为首页精选的活动总数
- `totalActivitiesCount`: 系统中所有活动的总数，用于运营数据统计
```

### 📦 模块名称：首页 - 精选装备区域

### 🧭 页面功能

- 在首页展示最多 6 个精选商品卡片
- 用户点击后跳转至商品详情页

### 🗃 数据来源

- 商品信息由后台统一维护
- 后台可勾选“是否为精选商品”，并设置展示排序（数值越小越靠前）

```
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| limit | int | 否 | 返回数量限制（首页默认4） | 4 |
| isFeatured | bool | 否 | 是否只返回精选商品（默认true） | true |
```

### 📌 页面展示字段（来自商品信息表）

```markdown

| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 | |
| body.featuredEquipment | array | 是 | 精选装备商品列表 | |
| body.featuredEquipment[].id | string | 是 | 商品ID | equipment_1 |
| body.featuredEquipment[].name | string | 是 | 商品名称 | YONEX尤尼克斯ARC-11羽毛球拍 |
| body.featuredEquipment[].tag | string | 是 | 商品标签（热销/新品/爆款/推荐） | 热销 |
| body.featuredEquipment[].price | string | 是 | 商品价格 | 899 |
| body.featuredEquipment[].sales | string | 是 | 销量信息 | 销量268 |
| body.featuredEquipment[].imageUrl | string | 是 | 商品主图URL | https://example.com/product.jpg |
| message | string | 是 | 响应消息 | 获取精选装备成功 |
| success | bool | 是 | 是否成功 | true |

**字段说明：**
- `id`: 装备商品的唯一标识符
- `name`: 商品的完整名称，包含品牌和型号
- `tag`: 商品推荐标签，用于页面展示（热销、新品、爆款、推荐）
- `price`: 商品价格，字符串格式便于前端显示
- `sales`: 销量信息，包含"销量"文字前缀的完整描述
- `imageUrl`: 商品图片URL，用于页面展示
```

## **📦 模块名称：活动信息与详情展示**

### 🧭 页面与交互说明

1. **活动列表页（首页 / 活动 Tab）**
    - 数据来源：接口返回所有的活动
    - Tabs 分类：全部 / 进行中 / 即将开始，由前端根据活动时间判断：
        - 进行中：当前时间介于 `startTime` 和 `endTime` 之间
        - 即将开始：当前时间早于 活动开始时间
        
        ```markdown
        | 参数名 | 类型 | 必填 | 说明 | 示例值 |
        |----|---|-----|---|-----|
        | page | int | 否 | 页码（默认1） | 1 |
        | pageSize | int | 否 | 每页数量（默认10） | 10 |
        | status | string | 否 | 活动状态筛选（默认all） | all |
        | searchKeyword | string | 否 | 搜索关键词 | 羽毛球 |
        
        **status参数说明：**
        - `all`：全部活动
        - `ongoing`：进行中活动
        - `coming`：即将开始活动
        - `finished`：已结束活动
        ```
        
    - 搜索支持：支持关键词搜索（字段为 `title`），搜索参数为 `keyword`
2. **活动卡片展示字段**
    
    ```markdown
    | 参数名 | 类型 | 必填 | 说明 | 示例值 |
    |----|---|-----|---|-----|
    | error | int | 是 | 错误码，0表示成功 | 0 |
    | body | object | 是 | 响应数据 | |
    | body.activities | array | 是 | 活动列表 | |
    | body.activities[].id | int | 是 | 活动唯一ID | 1 |
    | body.activities[].title | string | 是 | 活动标题 | 门店周年庆活动 |
    | body.activities[].description | string | 是 | 活动描述 | 羽你同行实体店两周年店庆... |
    | body.activities[].coverUrl | string | 是 | 活动封面图URL | https://example.com/cover.jpg |
    | body.activities[].startTime | string | 是 | 活动开始时间（简化格式） | 12月18日 |
    | body.activities[].endTime | string | 是 | 活动结束时间（简化格式） | 12月24日 |
    | body.activities[].location | string | 是 | 活动地点 | 倍特爱运动专卖店 |
    | body.activities[].status | string | 是 | 活动状态 | ongoing |
    | body.activities[].isFull | bool | 是 | 是否已满员 | false |
    | body.pagination | object | 是 | 分页信息 | |
    | body.pagination.page | int | 是 | 当前页码 | 1 |
    | body.pagination.pageSize | int | 是 | 每页数量 | 10 |
    | body.pagination.hasMore | bool | 是 | 是否有更多数据 | true |
    | body.pagination.loading | bool | 是 | 加载状态 | false |
    | message | string | 是 | 响应消息 | 获取活动列表成功 |
    | success | bool | 是 | 是否成功 | true |
    
    **字段说明：**
    - `id`: 活动的唯一标识符，为数字类型
    - `title`: 活动标题，用于页面展示和搜索匹配
    - `description`: 活动描述信息，用于页面展示和搜索匹配
    - `coverUrl`: 活动封面图片URL
    - `startTime/endTime`: 活动时间，使用简化的日期格式（如"12月18日"）
    - `location`: 活动举办地点
    - `status`: 活动状态，用于状态筛选功能
    - `isFull`: 是否已满员，用于控制报名按钮状态
    - `hasMore`: 是否有更多数据，用于上拉加载更多功能
    - `loading`: 加载状态，用于页面加载提示
    ```
    
3. **活动卡片逻辑**
    - 点击卡片 → 跳转至【活动详情页】
    - 活动结束后 30 天自动隐藏（定期清理策略）

---

### 📦 模块名称：活动详情页 & 报名功能

### 📄 活动详情页展示字段

```markdown
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 | |
| body.id | string | 是 | 活动唯一ID | 1 |
| body.title | string | 是 | 活动标题 | 门店周年庆活动 |
| body.description | string | 是 | 活动详细描述 | 羽你同行实体店两周年店庆... |
| body.startTime | string | 是 | 活动开始时间（格式化字符串） | 2024年12月18日 10:00 |
| body.endTime | string | 是 | 活动结束时间（格式化字符串） | 2024年12月24日 18:00 |
| body.location | string | 是 | 活动地点 | 倍特爱运动专卖店 |
| body.organizer | string | 是 | 主办方名称 | 倍特爱运动专卖店 |
| body.content | string | 是 | 活动内容（HTML格式） | <p>🎉 为庆祝倍特爱运动专卖店周年庆... |
| body.rules | string | 是 | 活动规则（换行符分隔） | 1. 活动期间每天限量100份礼品... |
| body.coverUrl | string | 是 | 活动封面图片URL | https://example.com/cover.jpg |
| body.isJoined | bool | 是 | 是否已报名 | false |
| message | string | 是 | 响应消息 | 获取活动详情成功 |
| success | bool | 是 | 是否成功 | true |

**字段说明：**
- `id`: 活动的唯一标识符，为字符串类型
- `title`: 活动标题，用于页面展示
- `description`: 活动的详细描述信息
- `startTime/endTime`: 活动时间，使用格式化的日期时间字符串
- `location`: 活动举办地点
- `organizer`: 活动主办方
- `content`: 活动内容的HTML格式文本，用于富文本展示
- `rules`: 活动规则文本，使用换行符分隔不同条目
- `coverUrl`: 活动封面图片URL
- `isJoined`: 当前用户是否已报名该活动
```

### ✍️ 报名功能说明

- 用户点击“立即报名”后，弹出报名表单（前端模态框）
- 表单字段（用户需填写）：
    - `name`：报名人姓名
    - `phone`：报名手机号

### 🧩 报名逻辑控制（由后端判断）

- 当前时间晚于 `signupDeadline`，则报名按钮禁用
- 当前报名人数 ≥ `maxParticipants`，则提示“名额已满”，按钮禁用
- 每个用户只能报名一次（user_id + event_id 唯一性限制）

## ✅ 商场模块 · 数据模型说明（for 开发文档）

---

## 📦 模块名称：商场首页页面（Mall Index）

### 🧭 页面结构与核心功能

1. **顶部搜索栏**
    - 允许输入商品关键词，回车或点击“搜索”后进入商品搜索结果页。
    - 搜索范围包含商品名称、品牌、分类等字段。
2. **限时秒杀区域**
    - 展示运营精选的限时秒杀商品（一般3-5个），支持横滑浏览。
    - 展示秒杀倒计时（结束剩余时间），“更多”按钮跳转到秒杀专属页面。
    - 秒杀商品字段：id、title、imageUrl、originalPrice、seckillPrice。
3. **Banner轮播区**
    - 轮播多张活动海报、新品宣传图等，每张banner有图片与跳转链接。
    - 点击跳转至商品详情页、活动页等。
    - 字段：id、imageUrl、link。
4. **商品分类区块**
    - 展示3大商品分组（羽毛球拍、羽毛球鞋、运动必备）。
    - 每组最多4个商品卡片：展示商品图片、名称、价格、销量、标签等。
    - “查看更多”跳转至该分类的全部商品列表。
5. **悬浮购物车按钮**
    - 显示当前购物车商品数量（角标）。
    - 点击跳转到购物车页面。

---

### 🗃 数据来源 & API 对照

### 1. 轮播图数据 `/api/mall/banners`

- 返回字段：id, imageUrl, link
- 用于banner轮播组件渲染和跳转

### 2. 限时秒杀商品 `/api/mall/seckill`

- 返回字段：id, title, imageUrl, originalPrice, seckillPrice
- 只展示精选部分商品，按后端排序推荐

### 3. 商品分组数据 `/api/mall/product-groups`

- 返回字段：
    - groupId, groupName, groupDesc
    - products[]: id, name, imageUrl, price, salesCount, tag
- 前端按分组展示，点击“查看更多”跳转

### 4. 购物车数量 `/api/mall/cart/count`

- 返回字段：cartCount（显示在悬浮购物车角标）

### 5. 商场商品搜索 `/api/mall/search`

- 请求参数：keyword
- 返回商品列表（id, name, imageUrl, price, salesCount）

### 6. 限时秒杀专属页面 `/api/mall/seckill/page`

- 支持分页、品牌筛选、价格排序，字段详见接口说明。

---

### 📄 前端页面字段/展示结构一览

| 区块 | 字段 | 说明 |
| --- | --- | --- |
| 搜索栏 | keyword | 搜索关键词 |
| Banner | id, imageUrl, link | 轮播图与跳转 |
| 限时秒杀区 | id, title, imageUrl, originalPrice, seckillPrice | 秒杀精选商品 |
| 商品分组区 | groupId, groupName, products[].id, products[].name, products[].imageUrl, products[].price, products[].salesCount, products[].tag | 商品分组与商品卡片 |
| 购物车角标 | cartCount | 购物车商品数量 |

### 📦 模块名称：商品基础信息与分类

### 🧭 页面说明

- 商场首页展示三类商品区块（羽毛球拍、羽毛球鞋、运动必备），每类最多展示 4 个商品预览。
- 点击“查看更多”跳转至商品列表页，并预选对应分类。
- 支持顶部搜索栏关键词搜索，范围包含商品标题 + 品牌名。

### 📄 商品字段要求

```
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 |  |
| body.productGroups | array | 是 | 商品分组列表 |  |
| body.productGroups[].groupId | string | 是 | 分组唯一ID | racket |
| body.productGroups[].groupName | string | 是 | 分组名称 | 羽毛球拍 |
| body.productGroups[].groupDesc | string | 是 | 分组描述 | 专业球拍，助你提升球技 |
| body.productGroups[].products | array | 是 | 分组商品列表 |  |
| body.productGroups[].products[].id | int | 是 | 商品唯一ID | 101 |
| body.productGroups[].products[].name | string | 是 | 商品名称 | YONEX尤尼克斯ARC-11羽毛球拍 |
| body.productGroups[].products[].imageUrl | string | 是 | 商品主图URL | /assets/images/racket1.jpg |
| body.productGroups[].products[].price | number | 是 | 当前价格 | 899 |
| body.productGroups[].products[].salesCount | int | 是 | 销量 | 268 |
| body.productGroups[].products[].tag | string | 否 | 商品标签 | 热销 |
| message | string | 是 | 响应消息 | 获取商品分组成功 |
| success | bool | 是 | 是否成功 | true |
```

### 模块名称：商品搜索结果页（含筛选）

**🧭 页面说明**

- 页面来源：
    - 首页搜索栏输入关键词 → 跳转到该页
    - 商场顶部搜索栏
    - “查看更多”分类入口（自动预选分类）
- 页面结构：
    1. **顶部类目导航**（后台可配置）
        
        固定展示六大类：羽毛球拍、羽毛球鞋、羽球服、球包、羽毛球、运动配件
        
        类目后台可新增、修改名称
        
    2. **中部排序筛选区**
        - 排序选项：销量从高到低、从低到高；价格从高到低、从低到高
        - 品牌筛选弹窗：用户可多选品牌（如：李宁、威克多、倍特爱…）
            
            品牌后台可动态添加
            
    3. **商品列表卡片**：展示所有匹配商品
        - 支持分页加载（上拉加载更多）

### 📄 字段参考说明

### 页面请求参数

```markdown

| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 | |
| body.products | array | 是 | 搜索结果商品列表 | |
| body.products[].id | int | 是 | 商品ID | 1 |
| body.products[].title | string | 是 | 商品标题 | YONEX尤尼克斯羽毛球拍单拍超轻碳纤维进攻型球拍ARC11 |
| body.products[].image | string | 是 | 商品主图URL | https://via.placeholder.com/300x300/4a90e2/ffffff?text=羽毛球拍 |
| body.products[].price | number | 是 | 当前价格 | 299 |
| body.products[].originalPrice | number | 否 | 原价（用于显示划线价） | 399 |
| body.products[].sales | int | 是 | 月销量 | 1200 |
| body.products[].rating | number | 否 | 商品评分（1-5分） | 4.9 |
| body.products[].brand | string | 是 | 品牌名称 | 尤尼克斯 |
| body.products[].category | string | 是 | 分类名称 | 羽毛球拍 |
| body.products[].tags | array | 否 | 商品标签 | ["专业", "进攻型"] |
| body.pagination | object | 是 | 分页信息 | |
| body.pagination.page | int | 是 | 当前页码 | 1 |
| body.pagination.pageSize | int | 是 | 每页数量 | 10 |
| body.pagination.total | int | 是 | 总记录数 | 156 |
| body.pagination.hasMore | bool | 是 | 是否有更多数据 | true |
| message | string | 是 | 响应消息 | 搜索商品成功 |
| success | bool | 是 | 是否成功 | true |
```

### 品牌筛选数据来源

- 品牌名称与 ID 来自后台商品品牌表
- 品牌字段支持新增、启用/停用等后台配置
- 示例品牌：李宁、威克多、尤尼克斯、倍特爱、翎美、泰昂、GOSEN 等

📌 页面 UI 元素与字段对照说明：

- 顶部类目栏 → 选项值，由后台维护
- 筛选弹窗 → 从品牌表中读取
- 排序条件 → 前端切换 字段并重新请求

### 🧭 页面与交互补充

- **兜底逻辑**：
    - 无论关键词输入是否精准匹配，都跳转至商品搜索结果页
    - 若没有完全匹配的商品，默认展示所有商品列表（不报“无结果”空白页）
    - 默认状态下，商品按照系统推荐顺序（如热销、上新等）排列
- **相关度排序**：
    - 搜索接口需根据关键词与商品标题、品牌名的相关度进行排序
    - 相关度高的商品靠前，相关性较低的商品仍展示但排在后面
    - 后端需返回每个商品的相关度分数或按排序规则自动排列

### 

### 📦 模块名称：商场 - 限时秒杀区

### 🧭 页面说明

- 商场首页展示 3～5 个正在进行秒杀的商品预览。
- 点击任意商品进入详情页；点击“更多”跳转至限时秒杀专属页。
- 秒杀商品信息通过字段 区分。

### 📄 秒杀商品额外字段

```markdown
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 | |
| body.products | array | 是 | 商品列表 | |
| body.products[].id | int | 是 | 商品ID | 1 |
| body.products[].brand | string | 是 | 品牌名称 | 李宁 |
| body.products[].brandKey | string | 是 | 品牌标识 | lining |
| body.products[].title | string | 是 | 商品标题 | 李宁羽毛球拍碳纤维单拍超轻进攻型专业比赛拍子1 |
| body.products[].imageUrl | string | 是 | 商品主图 | https://picsum.photos/400/400?random=1 |
| body.products[].seckillPrice | string | 是 | 秒杀价格（字符串格式） | "199.00" |
| body.products[].originalPrice | string | 是 | 原价（字符串格式） | "299.00" |
| body.products[].stock | int | 是 | 剩余库存 | 150 |
| body.products[].soldCount | int | 是 | 已售数量 | 268 |
| body.products[].endTime | string | 是 | 秒杀结束时间 | 2024-01-15 23:59:59 |
| body.products[].countdownText | string | 是 | 倒计时文字 | 08:00:00 |
| body.products[].tags | array | 是 | 商品标签 | ["包邮", "正品", "现货"] |
| body.defaultBrands | array | 是 | 默认显示的品牌列表 | |
| body.defaultBrands[].key | string | 是 | 品牌标识 | beta |
| body.defaultBrands[].name | string | 是 | 品牌名称 | 倍特爱 |
| body.extraBrands | array | 是 | 额外品牌列表 | |
| body.extraBrands[].key | string | 是 | 品牌标识 | lingmei |
| body.extraBrands[].name | string | 是 | 品牌名称 | 翎美 |
| body.cartCount | int | 是 | 购物车商品数量 | 5 |
| message | string | 是 | 响应消息 | 获取秒杀商品列表成功 |
| success | bool | 是 | 是否成功 | true |
```

### 📦 模块名称：商品详情页

### 🧭 页面展示内容

- title：商品标题
- imageList：主图轮播图
- price：当前售价
- originalPrice：原价（可选，用于显示划线价）
- salesCount：已售数量
- deliveryTime：发货时效说明（如“48小时内发货”）
- supportPolicy：服务保障标签（如“七天无理由退换”）
- productDetailHtml：图文详情 HTML 内容
- recommendList：相关推荐商品（来自推荐算法）

### 🗂 参数结构（后台支持配置）

- 商品规格：颜色、尺码、重量等，支持弹窗选择（键值对结构）
- 商品参数：后台自定义属性，例如【品牌：李宁】【重量：85g】等

### 📦 模块名称：商品评论系统

### 🧭 页面展示内容

- 用户头像
- 用户昵称
- 评分（1～5星）
- 评论文字
- 评论时间

### 🧾 功能说明

- 每个商品对应多个评论（分页加载）
- 评论由用户购买后提交，后端支持分页查询

### 📦 模块名称：购物车操作与购买流程

### 🛒 加入购物车交互

- 用户在商品详情页点击“加入购物车”弹出规格选择框，选择后调用添加购物车接口。
- 需记录：
    
    ```markdown
    | 参数名 | 类型 | 必填 | 说明 | 示例值 |
    |----|---|-----|---|-----|
    | productId | string | 是 | 商品唯一ID | product_101 |
    | quantity | int | 是 | 添加数量 | 1 |
    | selectedSpecs | object | 是 | 选择的规格键值对 | {"颜色": "蓝色", "重量": "4U"} |
    ```
    
    ```
    | 参数名 | 类型 | 必填 | 说明 | 示例值 |
    |----|---|-----|---|-----|
    | error | int | 是 | 错误码，0表示成功 | 0 |
    | body | object | 是 | 响应数据 | |
    | body.cartId | string | 是 | 购物车条目ID | cart_001 |
    | body.action | string | 是 | 操作类型（added新增/updated更新数量） | added |
    | body.newQuantity | int | 是 | 该条目的最新数量 | 2 |
    | body.cartCount | int | 是 | 购物车总商品数量 | 5 |
    | message | string | 是 | 响应消息 | 添加到购物车成功 |
    | success | bool | 是 | 是否成功 | true |
    
    ```
    

### ✅ 立即购买交互

- 用户点击“立即购买”也需弹窗选规格，之后跳转确认下单页。
- 需传入参数：
    - ID
    - 数量
    - 规格信息
    - 用户地址
    - 可用优惠券
    - 备注信息

### 📦 模块名称：购物车（Cart）

### 🛒 页面功能

- 列表展示用户已加入购物车的商品
    - 每条目显示：商品标题、规格详情（颜色、容量等）、单价、小计、商品图片
- 支持操作：
    - 多选 / 全选（用于删除或结算）
    - 增减数量
    - 删除选中项
    - 点击商品跳转至商品详情页
    - 点击“结算”跳转至确认订单页
- 显示合计金额、已优惠金额，支持展开“明细”查看优惠券抵扣等信息。

### 📄 字段需求说

```markdown
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 |  |
| body.cartList | array | 是 | 购物车商品列表 |  |
| body.cartList[].id | int | 是 | 商品唯一ID | 1 |
| body.cartList[].name | string | 是 | 商品名称 | 苹果iPhone 14 Pro Max 紫色 128GB |
| body.cartList[].spec | string | 是 | 已选规格描述 | 颜色：紫色 容量：128GB |
| body.cartList[].price | number | 是 | 商品单价 | 9999.00 |
| body.cartList[].quantity | int | 是 | 商品数量 | 1 |
| body.cartList[].image | string | 是 | 商品图片 | /assets/images/phone1.jpg |
| body.cartList[].selected | bool | 是 | 是否选中 | true |
| body.cartList[].specGroups | array | 是 | 规格选项组 |  |
| body.cartList[].specGroups[].name | string | 是 | 规格组名称 | 颜色 |
| body.cartList[].specGroups[].options | array | 是 | 规格选项列表 |  |
| body.cartList[].specGroups[].options[].value | string | 是 | 规格值 | 紫色 |
| body.cartList[].specGroups[].options[].selected | bool | 是 | 是否已选择 | true |
| body.cartList[].specGroups[].options[].disabled | bool | 是 | 是否禁用 | false |
| message | string | 是 | 响应消息 | 获取购物车成功 |
| success | bool | 是 | 是否成功 | true |
```

### 确认订单 · 数据模型说明

### 📦 模块名称：订单确认页

### 🧭 页面功能

- **收货地址**
    - 优先展示用户的默认地址（后端在地址表字段标记）
    - 点击跳转到地址选择/管理页面
- **商品信息列表**
    
    列表展示所有待下单商品项，每项包含：
    
    - 商品标题、规格（颜色/容量/尺码等）
    - 单价、数量、小计
    - 商品图片
- **优惠券**
    
    显示当前可用优惠券张数，点击可选择某张优惠券。
    
    - 默认不选中
    - 点击跳转到优惠券列表页，用户可手动选择
- **备注**
    
    前端提供输入框，用户填写买家留言（选填）
    
    **运费**
    
    - 由商品的 属性决定
    - 后台在商品表中配置每个商品的运费
- **费用明细**
    - 商品金额（所有小计之和）
    - 运费（如免运费则显示“免运费”）
    - 优惠金额（所选优惠券抵扣）
    - 实付金额（最终应付总额）
- **提交订单**
    
    点击后调用下单接口，生成新订单并跳转支付页。
    

### 📄 字段需求说明

```markdown
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0成功/401未登录 | 0 |
| body | object | 是 | 响应数据 |  |
| body.orderGoods | array | 是 | 商品列表 |  |
| body.orderGoods[].id | int | 是 | 商品ID | 1 |
| body.orderGoods[].name | string | 是 | 商品名称 | NCS#75速【多啦A梦黄】 |
| body.orderGoods[].image | string | 是 | 商品图片 | https://via.placeholder.com/120x120/ff9800/fff?text=商品 |
| body.orderGoods[].spec | string | 否 | 规格描述 | 黄色 3只装 |
| body.orderGoods[].price | number | 是 | 单价 | 15.00 |
| body.orderGoods[].quantity | int | 是 | 数量 | 1 |
| body.addressInfo | object | 否 | 默认收货地址 |  |
| body.addressInfo.id | string | 是 | 地址ID | addr_001 |
| body.addressInfo.name | string | 是 | 收件人姓名 | 张三 |
| body.addressInfo.phone | string | 是 | 联系电话 | 138****5678 |
| body.addressInfo.address | string | 是 | 完整地址 | 广东省深圳市南山区科技园南区 |
| body.availableCoupons | int | 是 | 可用优惠券数量 | 3 |
| body.totalGoodsAmount | number | 是 | 商品总金额 | 15.00 |
| body.shippingFee | number | 是 | 运费 | 0.00 |
| body.finalAmount | number | 是 | 最终应付金额 | 15.00 |
| message | string | 是 | 响应消息 | 获取订单预览成功 |
| success | bool | 是 | 是否成功 | true |
```

## 服务模块 · 数据模型说明

### 📦 子模块：穿线服务 Tab

### 🧭 页面与交互

- 用户填写表单提交穿线请求
- 填写字段：
- 提交后生成穿线服务记录
- 在“我的服务”Tab 查看该记录及进度

```markdown
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0表示成功 | 0 |
| body | object | 是 | 响应数据 | |
| body.brands | array | 是 | 品牌列表 | |
| body.brands[].id | string | 是 | 品牌ID | yonex |
| body.brands[].name | string | 是 | 品牌名称 | YONEX |
| body.strings | array | 是 | 线材列表 | |
| body.strings[].id | string | 是 | 线材ID | BG65 |
| body.strings[].name | string | 是 | 线材名称 | BG-65 |
| body.strings[].brand | string | 是 | 所属品牌 | yonex |
| body.strings[].description | string | 是 | 线材描述 | 经典耐用，适合初学者 |
| body.strings[].price | number | 是 | 穿线价格 | 35 |
| message | string | 是 | 响应消息 | 获取线材列表成功 |
| success | bool | 是 | 是否成功 | true |
```

### 模块：积分兑换 Tab

### 🧭 页面与交互

- 展示当前积分余额
- 列出所有“可积分兑换”商品
- 分页展示最近兑换记录
- 用户点击兑换按钮发起请求

### 📄 字段需求说明

- user_id：用户关联
- points_balance：当前积分余额
- **兑换商品字段（来源商品表）**
- **兑换记录字段**
    
    ```markdown
    
    | 参数名 | 类型 | 必填 | 说明 | 示例值 |
    |----|---|-----|---|-----|
    | error | int | 是 | 错误码，0成功/401未登录 | 0 |
    | body | object | 是 | 响应数据 | |
    | body.user_points | int | 是 | 用户当前积分 | 2580 |
    | body.goods | array | 是 | 可兑换商品列表 | |
    | body.goods[].id | int | 是 | 商品ID | 101 |
    | body.goods[].name | string | 是 | 商品名称 | 羽毛球拍 |
    | body.goods[].img | string | 是 | 商品图片 | /assets/images/racket.jpg |
    | body.goods[].points | int | 是 | 所需积分 | 2200 |
    | body.goods[].stock | int | 是 | 可兑换库存 | 5 |
    | body.recent_exchanges | array | 是 | 最近兑换记录 | |
    | body.recent_exchanges[].goods_name | string | 是 | 商品名称 | 专业羽毛球鞋 |
    | body.recent_exchanges[].points | int | 是 | 消耗积分 | 1800 |
    | body.recent_exchanges[].date | string | 是 | 兑换时间 | 2024-06-01 |
    | message | string | 是 | 响应消息 | 获取积分信息成功 |
    | success | bool | 是 | 是否成功 | true |
    ```
    

### 推广返佣 Tab

### 🧭 页面与交互

- 展示专属推广二维码与链接
- 展示累计邀请人数、累计返佣、今日收益、可提现余额
- 分页列出佣金明细
- 提现申请：输入金额后提交，仅支持“提现到微信”

### 📄 字段需求说明

```
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0成功/401未登录 | 0 |
| body | object | 是 | 响应数据 | |
| body.total_earnings | number | 是 | 累计收益 | 158 |
| body.invited_users | int | 是 | 累计邀请人数 | 6 |
| body.this_month_earnings | number | 是 | 本月收益 | 45 |
| body.today_earnings | number | 是 | 今日收益 | 8 |
| body.account_balance | number | 是 | 账户余额 | 245 |
| body.invite_code | string | 是 | 邀请码 | PROMO001 |
| body.invite_link | string | 是 | 邀请链接 | https://miniprogram.com/invite?code=PROMO001 |
| body.qr_code_url | string | 是 | 推广二维码URL | https://api.qrserver.com/v1/... |
| body.commission_records | array | 是 | 佣金记录 | |
| body.commission_records[].desc | string | 是 | 佣金描述 | 邀请好友注册奖励 |
| body.commission_records[].amount | number | 是 | 佣金金额 | 20 |
| body.commission_records[].date | string | 是 | 获得时间 | 2024-06-08 |
| body.commission_records[].status | string | 是 | 状态 | 已到账 |
| body.commission_records[].type | string | 是 | 类型（invite邀请/commission返佣） | invite |
| body.withdraw_records | array | 是 | 提现记录 | |
| body.withdraw_records[].amount | number | 是 | 提现金额 | 100 |
| body.withdraw_records[].date | string | 是 | 提现时间 | 2024-06-01 |
| body.withdraw_records[].status | string | 是 | 提现状态 | 已到账 |
| body.withdraw_records[].order_no | string | 是 | 提现单号 | WD202406010001 |
| message | string | 是 | 响应消息 | 获取推广信息成功 |
| success | bool | 是 | 是否成功 | true |
```

### **我的服务tab模块**

### 📦 子模块：穿线进度

### 🧭 页面与交互

- Tab：“穿线进度”
- 展示用户所有穿线订单进度卡片
- 每条卡片显示：
    - 球拍型号
    - 主线磅数、横线磅数
    - 预计完成时间
    - 当前状态（待接单/穿线中/已完成）
    - 进度日志（状态+时间列表）

### 📄 字段需求说明

```markdown
| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|----|---|-----|---|-----|
| error | int | 是 | 错误码，0成功/401未登录 | 0 |
| body | array | 是 | 服务记录数组 | |
| body[].service_type | string | 是 | 服务类型 | 穿线进度 |
| body[].racket | string | 否 | 球拍信息（穿线进度类型有） | YONEX BG-65 |
| body[].status | string | 否 | 状态 | 穿线中 |
| body[].progress | int | 否 | 进度百分比 | 60 |
| body[].detail | string | 否 | 详细描述 | 主线24磅，横线23磅，预计6月10日完成 |
| body[].goods | string | 否 | 奖品名称（奖品物流类型有） | 专业手胶套装 |
| body[].logistics | array | 否 | 物流信息 | |
| body[].logistics[].desc | string | 是 | 物流节点描述 | 已发货 |
| body[].logistics[].time | string | 是 | 物流时间 | 2024-06-06 15:00 |
| body[].express_number | string | 否 | 快递单号 | SF1234567890 |
| body[].amount | number | 否 | 金额（返佣记录类型有） | 20 |
| body[].desc | string | 否 | 返佣描述 | 邀请好友下单奖励 |
| body[].date | string | 否 | 日期 | 2024-06-02 |
| pagination | object | 是 | 分页信息 | |
| pagination.page | int | 是 | 当前页码 | 1 |
| pagination.pageSize | int | 是 | 每页数量 | 10 |
| pagination.hasMore | bool | 是 | 是否有更多数据 | false |
| message | string | 是 | 响应消息 | 获取服务记录成功 |
| success | bool | 是 | 是否成功 | true |

```

## 我的页面模块所需数据结构

### 📦 子模块：个人信息展示

- **展示字段**（仅展示，不可编辑）：
    
    ```markdown
    | 参数名 | 类型 | 必填 | 说明 | 示例值 |
    |----|---|-----|---|-----|
    | error | int | 是 | 错误码，0成功/401未登录 | 0 |
    | body | object | 是 | 响应数据 | |
    | body.userInfo | object | 是 | 用户信息 | |
    | body.userInfo.avatarUrl | string | 是 | 用户头像URL | https://wx.qlogo.cn/mmopen/vi_32/xxx.jpg |
    | body.userInfo.nickName | string | 是 | 用户昵称 | 张三 |
    | body.userInfo.level | string | 是 | 会员等级 | 中级会员 |
    | body.userInfo.id | string | 是 | 用户编号 | 10086 |
    | body.userInfo.pointsBalance | int | 是 | 当前积分余额 | 850 |
    | body.coupons | int | 是 | 优惠券数量 | 5 |
    | body.services | int | 是 | 服务数量 | 3 |
    | message | string | 是 | 响应消息 | 获取用户基本信息成功 |
    | success | bool | 是 | 是否成功 | true |
    ```
    
- **数据来源**：由用户表（users）返回对应字段，头像与昵称同步自微信授权。
- **跳转逻辑**：点击积分区 → 跳转至“积分兑换”Tab（服务模块）。

---

### 📦 子模块：我的订单列表

- **Tabs**：全部 / 待付款 / 待发货 / 待收货 / 待评价 / 退款/售后
- **订单卡片展示字段**：
    - 商品图（productImage）
    - 商品名称（productTitle）
    - 规格（spec）
    - 数量（quantity）
    - 订单总价（totalAmount）
    - 订单状态文字（orderStatus）
- **操作按钮**（根据 `orderStatus` 变化展示）：
    - 待付款：立即付款
    - 待发货：催发货
    - 待收货：查看物流 / 确认收货
    - 待评价：去评价
    - 退款/售后：查看物流 / 退款详情
- **数据来源**：调用 `GET /api/orders?status={status}` 接口返回订单列表。

### 📦 模块名称：订单物流信息页

### 🧭 页面功能说明

1. **订单物流信息区**
    - 展示订单号、物流公司、快递单号
    - 支持一键复制订单号、快递单号
    - 展示物流当前状态标签（待发货/运输中/已签收/异常）
2. **物流轨迹**
    - 展示物流轨迹进度条，包含每个节点的时间、状态、位置
    - 如无物流轨迹信息，显示“暂无物流信息”并支持“重新查询”按钮
3. **物流公司信息与联系客服**
    - 展示物流公司logo、名称、客服电话
    - 点击按钮可一键拨打物流客服电话

---

### 🗃 数据来源与接口说明

- 通过 `/api/logistics/query` 接口，POST 请求，参数为订单ID，Header需带登录token
- 返回内容包含：物流状态、公司名称、单号、轨迹数组、公司客服电话与logo

---

### 📄 页面字段需求

| 字段名 | 类型 | 说明 |
| --- | --- | --- |
| orderId | string | 订单号 |
| status | string | 物流状态（pending/shipping/delivered/exception） |
| statusText | string | 物流状态文本描述（如“运输中”） |
| companyName | string | 物流公司名称 |
| trackingNo | string | 物流单号 |
| tracks | array | 物流轨迹，每条含时间/状态/位置 |
| companyInfo.name | string | 物流公司名称 |
| companyInfo.phone | string | 物流客服电话 |
| companyInfo.logo | string | 物流公司logo图片URL |

**轨迹节点结构：**

- time：节点时间
- status：节点状态描述
- location：节点位置

---

### 📦 交互与错误处理

- 页面加载时自动拉取物流数据，加载失败支持“重新查询”
- 若接口返回error=401，自动跳转到登录页
- 返回error=500，弹窗提示“系统异常”
- 返回1003（暂无物流信息），提示用户稍后再试，并展示空态页面
- 物流数据Mock降级支持，前端显示测试数据

---

### 📦 客服交互

- 客服区显示物流公司名称及客服电话
- “拨打客服电话”按钮点击直接调起拨号

### 📦 模块名称：退款详情页面

### 🧭 页面结构与核心功能

1. **订单与退款编号区**
    - 展示订单号（orderNo）、退款编号（refundNo），支持一键复制
2. **商品信息区**
    - 商品图片、标题、规格、数量、单价
3. **退款信息区**
    - 退款金额、当前状态（已驳回/退款中/已完成）、退款方式（原路退回/微信零钱）、退款原因
    - 申请时间、处理时间、完成时间（按状态展示）
4. **退款进度区**
    - 步骤时间线（如“申请提交”“商家处理”“退款完成”），每步包含标题、说明、时间、当前/已完成/待处理状态
5. **联系客服**
    - 底部“联系客服”按钮，点击弹出/跳转客服会话

---

### 🗃 数据来源 & API 对照

### 获取退款详情 `/api/refund/detail`

- 请求参数：orderNo、refundNo（都为string，必填）
- Header需带Authorization token
- 返回字段分三块：
    - productInfo：商品信息（image, title, spec, quantity, price）
    - refundInfo：退款信息（amount, status, statusText, refundMethod, refundMethodText, reason, applyTime, processTime, completeTime）
    - progressList：退款进度数组，每项含step, title, desc, time, status

### 错误响应

- 错误码（1001、1002、1003、1004、5000等）需友好提示，401直接跳转登录

---

### 📄 页面字段一览

| 区块 | 字段 | 说明 |
| --- | --- | --- |
| 订单信息 | orderNo, refundNo | 订单号、退款编号 |
| 商品信息 | image, title, spec, quantity, price | 商品主图、名称、规格、数量、单价 |
| 退款信息 | amount, status, statusText, refundMethod, refundMethodText, reason, applyTime, processTime, completeTime | 金额、状态、方式、原因、时间点 |
| 进度时间线 | progressList[].step, title, desc, time, status | 步骤编号、标题、说明、时间、状态 |
| 客服按钮 | - | “联系客服”操作，调起客服会话 |

### 子模块：优惠券列表

- **Tabs**：全部 / 可使用 / 即将过期
- **展示字段**：
    
    ```markdown
    
    | 参数名 | 类型 | 必填 | 说明 | 示例值 |
    |----|---|-----|---|-----|
    | error | int | 是 | 错误码，0成功/401未登录 | 0 |
    | body | object | 是 | 响应数据 |  |
    | body.couponList | array | 是 | 优惠券列表 |  |
    | body.couponList[].id | int | 是 | 优惠券ID | 101 |
    | body.couponList[].title | string | 是 | 优惠券标题 | 新球友专享大礼包 |
    | body.couponList[].amount | number | 是 | 优惠金额（满减券）或折扣（折扣券） | 50 |
    | body.couponList[].minAmount | number | 是 | 最低使用金额 | 299 |
    | body.couponList[].type | int | 是 | 优惠券类型（1满减券/2折扣券/3免邮券） | 1 |
    | body.couponList[].scope | string | 是 | 适用范围 | 全场羽毛球用品 |
    | body.couponList[].startTime | string | 是 | 生效时间 | 2024-01-01 |
    | body.couponList[].endTime | string | 是 | 到期时间 | 2024-12-31 |
    | body.couponList[].status | int | 是 | 状态（1可使用/4即将过期） | 1 |
    | body.couponList[].useTime | string | 否 | 使用时间（未使用为null） | null |
    | body.couponList[].description | string | 否 | 优惠券描述 | 新用户注册即得... |
    | body.couponList[].discount | number | 是 | 实际优惠金额 | 50 |
    | body.currentPage | int | 是 | 当前页码 | 1 |
    | body.pageSize | int | 是 | 每页数量 | 10 |
    | body.hasMore | bool | 是 | 是否还有更多数据 | true |
    | message | string | 是 | 响应消息 | 获取优惠券列表成功 |
    | success | bool | 是 | 是否成功 | true |
    
    ```
    
- **操作逻辑**：
    - 全场券：点击“使用”跳转至商场首页
    - 指定商品券：点击“使用”跳转至对应商品详情页（后端返回 targetProductId）
- **数据来源**：调用  返回用户优惠券列表。

### 子模块：每日任务中心

- **任务列表**：每日签到 / 分享小程序 / 邀请好友
- 点击每日签到页面即跳转签到打卡页面

### 📦签到打卡页面（日历签到）

### 🧭 页面结构与功能

1. **顶部欢迎区**
    - 展示「嗨，用户名」
    - 显示当前积分（如“我的积分：1250”），数据同步自用户积分接口
    - 展示连续签到奖励（如“连续7天签到可得50积分”），奖励规则由后台配置
2. **签到按钮区**
    - 大号“立即签到”按钮
    - 根据接口判断今日是否可签到
    - 签到后弹窗动画+积分到账反馈
3. **连续签到进度条/奖励展示**
    - 列表/进度条样式，展示1~7天等连续奖励配置（已领取、待领取状态，后台可动态调整）
4. **日历签到区**
    - 月历视图展示本月已签到/未签到日期
    - 可查阅累计签到天数、连续天数、历史最大连续天数等统计
5. **签到记录**
    - 最近几天签到明细（日期、积分、连续天数）

### 子模块：地址管理

- **列表展示**：用户所有地址，默认地址 排前

- **展示/编辑字段**：
- **操作接口**：新增（POST）
    
    ```markdown
    | 参数名 | 类型 | 必填 | 说明 | 示例值 |
    |----|---|-----|---|-----|
    | error | int | 是 | 错误码，0成功/401未登录/404地址不存在 | 0 |
    | body | object | 是 | 响应数据 | |
    | body.address | object | 是 | 地址详细信息 | |
    | body.address.id | int | 是 | 地址ID（数字类型） | 1 |
    | body.address.consignee | string | 是 | 收件人姓名 | 张三 |
    | body.address.mobile | string | 是 | 收件人手机号 | 13812345678 |
    | body.address.region | string | 是 | 地区信息（支持逗号或空格分隔） | 广东省,深圳市,南山区 |
    | body.address.detail | string | 是 | 详细地址 | 科技园南区深南大道9988号 |
    | body.address.isDefault | bool | 是 | 是否为默认地址 | true |
    | message | string | 是 | 响应消息 | 获取地址详情成功 |
    | success | bool | 是 | 是否成功 | true |
    
    **字段说明：**
    - `id`: 地址的唯一标识符，为数字类型，对应JS代码中的parseInt处理
    - `region`: 地区信息，支持逗号分隔（如"广东省,深圳市,南山区"）或空格分隔格式
    - 地区格式兼容性：前端会自动解析逗号或空格分隔的格式转换为选择器数组
    ```
    
- 编辑（PUT）、删除（DELETE）、设默认（PATCH）
- **跳转逻辑**：点击“管理”或“收货地址”区域 → 跳转地址管理页。