---
description: 微信小程序原生项目开发规范
globs: 
alwaysApply: true
---

# 项目通用规范

## 技术栈
- 使用微信小程序原生框架（wxml + wxss + js/json）。
- 不使用 vue、react 等第三方前端框架。

## 项目结构
- 页面文件统一存放于 /pages 目录，每个页面单独文件夹，含 wxml、wxss、js、json 四个文件。
- 复用组件存放于 /components 目录。
- 公共方法、工具函数存放于 /utils 目录。
- 静态资源（图片、图标等）存放于 /assets 目录。
- 后端接口封装统一放在 /api 目录。

## 页面与组件开发
- 页面与组件命名使用小写字母+中划线（如: order-list, product-detail）。
- 页面、组件嵌套不超过三层，保持结构清晰。
- 公共组件优先复用，禁止重复造轮子。
- 页面间跳转用 wx.navigateTo（普通页面）、wx.switchTab（底栏tab页）。
- 页面、组件的数据必须来源于后端接口或 mock 数据，不允许直接写在 js 文件里。

## 数据与接口
- 所有后端接口统一封装在 /api 目录，页面/组件通过 import 调用。
- 请求统一使用 wx.request 或封装好的 request 方法。
- 每个接口文件须注明接口功能、入参、出参说明。
- 所有请求必须处理失败/异常情况，出现接口错误要有用户可见的提示（如 Toast）。
- 需要鉴权的接口，header 必须带 token，未登录自动跳转到登录页。

## 代码规范
- 变量、函数名用小驼峰（如: productList, getOrderDetail）。
- 目录、文件、组件名用小写-中划线风格（如: cart-item）。
- 注释需覆盖复杂逻辑、特殊业务流程。
- 单文件内函数、方法不超过300行，保持函数单一职责。
- 禁止将测试数据、测试代码留在生产环境中。

## UI与样式
- UI 风格需与品牌主色、字号、圆角保持统一，见 UI 规范文档。
- 使用微信小程序自带组件（如 button、input、image 等），如有定制需求可用自定义组件。
- 尽量使用 rpx 做自适应布局，保证多机型适配。
- 保持页面简洁，重要按钮高亮，操作易用。

## git 操作与版本控制
- 每完成一个功能需 commit，写明改动内容，推荐 feat/bugfix/docs 前缀。
- 禁止将大体积图片、敏感数据文件提交到仓库。
- 推送前请确保项目结构/文档/接口说明已更新。

## 其他要求
- 响应用户时请始终用中文。
- 项目文档、README 需及时同步更新，标注页面与组件的对应目录。

---
