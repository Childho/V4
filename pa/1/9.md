CREATE TABLE withdraw_records (
    id INT AUTO_INCREMENT PRIMARY KEY COMMENT '提现记录ID',
    promotion_id INT NOT NULL COMMENT '推广ID，外键关联promotions表',
    amount DECIMAL(10,2) NOT NULL COMMENT '提现金额',
    status VARCHAR(20) NOT NULL COMMENT '状态（pending待处理/settled已到账/rejected已拒绝）',
    order_no VARCHAR(50) NOT NULL UNIQUE COMMENT '提现单号',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    FOREIGN KEY (promotion_id) REFERENCES promotions(id)
) COMMENT='提现记录表';

CREATE TABLE product_groups (
    id INT AUTO_INCREMENT PRIMARY KEY COMMENT '分组ID',
    group_name VARCHAR(50) NOT NULL COMMENT '分组名称',
    group_desc VARCHAR(255) COMMENT '分组描述',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT='商品分组表';
CREATE TABLE group_products (
    id INT AUTO_INCREMENT PRIMARY KEY COMMENT '分组商品ID',
    group_id INT NOT NULL COMMENT '分组ID，外键关联product_groups表',
    product_id INT NOT NULL COMMENT '商品ID，外键关联products表',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    FOREIGN KEY (group_id) REFERENCES product_groups(id),
    FOREIGN KEY (product_id) REFERENCES products(id)
) COMMENT='分组商品表';
CREATE TABLE points_exchange_goods (
    id INT AUTO_INCREMENT PRIMARY KEY COMMENT '兑换商品ID',
    name VARCHAR(255) NOT NULL COMMENT '商品名称',
    img VARCHAR(255) NOT NULL COMMENT '商品图片URL',
    points INT NOT NULL COMMENT '所需积分',
    stock INT NOT NULL COMMENT '库存',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT='积分兑换商品表';
CREATE TABLE points_exchange_records (
    id INT AUTO_INCREMENT PRIMARY KEY COMMENT '兑换记录ID',
    user_id INT NOT NULL COMMENT '用户ID，外键关联users表',
    goods_id INT NOT NULL COMMENT '兑换商品ID，外键关联points_exchange_goods表',
    points INT NOT NULL COMMENT '消耗积分',
    status VARCHAR(20) NOT NULL COMMENT '状态（pending待发货/shipped已发货/delivered已送达）',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (goods_id) REFERENCES points_exchange_goods(id)
) COMMENT='积分兑换记录表';